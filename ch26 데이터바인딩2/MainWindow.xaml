<Window x:Class="ch26_데이터바인딩2.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:ch26_데이터바인딩2"
        mc:Ignorable="d"
        Title="MainWindow" Height="450" Width="800">
    <!-- 
        Window의 DataContext:
        - 코드 비하인드에서 DataContext = this로 설정
        - this는 MainWindow 인스턴스
        - MainWindow의 속성: 이름="타요", 나이=10
        
        DataContext 상속:
        - 모든 자식 요소는 부모의 DataContext를 상속
        - 명시적으로 설정하지 않으면 부모 것을 사용
        - 명시적으로 설정하면 해당 요소와 자식들이 새 DataContext 사용
    -->

    <StackPanel>
        <!-- 
            최상위 StackPanel:
            - DataContext를 명시적으로 설정하지 않음
            - 부모(Window)의 DataContext를 상속
            - Window.DataContext = MainWindow 인스턴스 (이름="타요", 나이=10)
        -->

        <!-- ========== Window DataContext 영역 (MainWindow 인스턴스) ========== -->

        <Label Content="{Binding 이름}"></Label>
        <!-- 
            Label - 이름 표시:
            - DataContext: Window의 DataContext (MainWindow 인스턴스)
            - {Binding 이름}: MainWindow.이름 속성에 바인딩
            - 표시 값: "타요"
            
            Binding 경로 생략:
            - {Binding 이름}은 {Binding Path=이름}과 동일
            - Path는 생략 가능 (기본 속성)
            
            동작:
            1. Label의 DataContext 확인 → 부모에서 상속 → Window.DataContext
            2. Window.DataContext = MainWindow 인스턴스
            3. MainWindow.이름 = "타요"
            4. Label.Content = "타요"
        -->

        <Label Content="{Binding 나이}"></Label>
        <!-- 
            Label - 나이 표시:
            - DataContext: Window의 DataContext (MainWindow 인스턴스)
            - {Binding 나이}: MainWindow.나이 속성에 바인딩
            - 표시 값: 10
            
            자동 형변환:
            - 나이는 int 타입
            - Content는 object 타입
            - WPF가 자동으로 "10"으로 변환하여 표시
        -->

        <!-- ========== WrapPanel DataContext 영역 (person 인스턴스) ========== -->

        <WrapPanel Name="wp">
            <!-- 
                WrapPanel (wp):
                - Name="wp": 코드 비하인드에서 접근 가능
                - 코드에서 wp.DataContext = person으로 설정
                - person: new Person() { 이름="홍길동", 나이=100 }
                
                DataContext 재정의:
                - 부모(Window)의 DataContext를 무시
                - 자신만의 DataContext 사용
                - 자식 요소들은 이 DataContext를 상속
                
                영향 범위:
                - wp와 wp의 모든 자식 요소
                - 형제 요소(StackPanel stp)는 영향 받지 않음
            -->

            <Label Content="{Binding 이름}"></Label>
            <!-- 
                Label - 이름 표시:
                - DataContext: WrapPanel의 DataContext (person 인스턴스)
                - {Binding 이름}: person.이름 속성에 바인딩
                - 표시 값: "홍길동"
                
                동작:
                1. Label의 DataContext 확인 → 부모(wp)에서 상속
                2. wp.DataContext = person 인스턴스
                3. person.이름 = "홍길동"
                4. Label.Content = "홍길동"
            -->

            <Label Content="{Binding 나이}"></Label>
            <!-- 
                Label - 나이 표시:
                - DataContext: WrapPanel의 DataContext (person 인스턴스)
                - {Binding 나이}: person.나이 속성에 바인딩
                - 표시 값: 100
            -->
        </WrapPanel>

        <!-- ========== StackPanel DataContext 영역 (person2 인스턴스) ========== -->

        <StackPanel Name="stp">
            <!-- 
                StackPanel (stp):
                - Name="stp": 코드 비하인드에서 접근 가능
                - 코드에서 stp.DataContext = person2로 설정
                - person2: new Person() { 이름="임꺽정", 나이=90 }
                
                DataContext 재정의:
                - 부모(최상위 StackPanel)의 DataContext를 무시
                - 자신만의 DataContext 사용
                - 자식 요소들은 이 DataContext를 상속
                
                독립적 DataContext:
                - wp와 stp는 서로 다른 DataContext
                - 각각 독립적인 데이터 표시
            -->

            <Label Content="{Binding 이름}"></Label>
            <!-- 
                Label - 이름 표시:
                - DataContext: StackPanel의 DataContext (person2 인스턴스)
                - {Binding 이름}: person2.이름 속성에 바인딩
                - 표시 값: "임꺽정"
                
                동작:
                1. Label의 DataContext 확인 → 부모(stp)에서 상속
                2. stp.DataContext = person2 인스턴스
                3. person2.이름 = "임꺽정"
                4. Label.Content = "임꺽정"
            -->

            <Label Content="{Binding 나이}"></Label>
            <!-- 
                Label - 나이 표시:
                - DataContext: StackPanel의 DataContext (person2 인스턴스)
                - {Binding 나이}: person2.나이 속성에 바인딩
                - 표시 값: 90
            -->
        </StackPanel>
    </StackPanel>
</Window>
