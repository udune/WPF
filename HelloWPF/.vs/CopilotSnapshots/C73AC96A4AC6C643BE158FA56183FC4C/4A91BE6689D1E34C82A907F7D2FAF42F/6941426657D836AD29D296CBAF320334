<!-- 
    Window1.xaml - 모달/모달리스 테스트용 윈도우
    MainWindow에서 Show() 또는 ShowDialog()로 열리는 간단한 창입니다.
    "닫기" 버튼을 클릭하면 창이 닫힙니다.
-->
<Window x:Class="ch30_탭컨트롤_모달_모달리스.Window1"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:ch30_탭컨트롤_모달_모달리스"
        mc:Ignorable="d"
        Title="Window1" Height="450" Width="800">
    <!-- 
        Window 속성:
        
        x:Class:
        - 코드 비하인드 클래스
        - ch30_탭컨트롤_모달_모달리스.Window1
        
        Title="Window1":
        - 창 제목 표시줄에 표시
        
        Height="450" Width="800":
        - 창 크기
        
        모달/모달리스 동작:
        - XAML은 동일
        - 코드에서 Show() 또는 ShowDialog() 선택
        - Show(): 부모 창 조작 가능
        - ShowDialog(): 부모 창 차단
    -->
    
    <StackPanel>
        <!-- 
            StackPanel:
            - 간단한 레이아웃
            - "닫기" 버튼만 포함
        -->
        
        <Button Click="Button_Click">닫기</Button>
        <!-- 
            닫기 버튼:
            
            Click="Button_Click":
            - 클릭 이벤트 핸들러
            - Window1.xaml.cs의 Button_Click 메서드
            
            Content:
            - "닫기" 텍스트 (명시적으로 설정 안 함)
            - <Button>닫기</Button> 형태로 사용
            
            동작:
            1. 버튼 클릭
            2. Button_Click 이벤트 발생
            3. this.Close() 호출
            4. 창 닫힘
            
            모달리스 (Show()):
            - 창 닫힘
            - MainWindow 계속 활성 상태
            
            모달 (ShowDialog()):
            - 창 닫힘
            - ShowDialog() 반환 (null)
            - MainWindow 다시 활성화
            
            DialogResult 설정:
            this.DialogResult = true; // 확인
            this.DialogResult = false; // 취소
            // DialogResult 설정 시 자동으로 Close() 호출됨
        -->
    </StackPanel>
    
    <!--
        Window1 전체 요약:
        
        ========== 간단한 테스트 창 ==========
        
        구조:
        ┌─────────────────────────┐
        │ Window1               ✕ │
        ├─────────────────────────┤
        │                         │
        │    [닫기]               │
        │                         │
        │                         │
        └─────────────────────────┘
        
        ========== 모달리스로 열릴 때 ==========
        
        MainWindow:
        window1.Show();
        
        동작:
        - Window1 열림
        - MainWindow 계속 조작 가능 ✓
        - "닫기" 버튼 클릭 → Window1 닫힘
        - MainWindow는 영향 없음
        
        ========== 모달로 열릴 때 ==========
        
        MainWindow:
        window1.ShowDialog();
        
        동작:
        - Window1 열림
        - MainWindow 조작 불가능 ✗
        - "닫기" 버튼 클릭 → Window1 닫힘
        - ShowDialog() 반환 (null)
        - MainWindow 다시 활성화
        
        ========== DialogResult 활용 예제 ==========
        
        XAML:
        <StackPanel>
            <TextBox x:Name="inputTextBox" Margin="10"/>
            <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                <Button Content="확인" Click="OK_Click" Width="80" Margin="5"/>
                <Button Content="취소" Click="Cancel_Click" Width="80" Margin="5"/>
            </StackPanel>
        </StackPanel>
        
        코드:
        private void OK_Click(object sender, RoutedEventArgs e)
        {
            this.DialogResult = true;
            // Close()는 자동 호출됨
        }
        
        private void Cancel_Click(object sender, RoutedEventArgs e)
        {
            this.DialogResult = false;
            // Close()는 자동 호출됨
        }
        
        MainWindow:
        Window1 window1 = new Window1();
        if (window1.ShowDialog() == true)
        {
            // 확인 버튼 클릭
            string input = window1.inputTextBox.Text;
        }
        else
        {
            // 취소 버튼 클릭
        }
        
        ========== 데이터 전달 예제 ==========
        
        Window1에 속성 추가:
        public string UserInput { get; set; }
        
        XAML:
        <TextBox x:Name="inputTextBox" Text="{Binding UserInput, RelativeSource={RelativeSource AncestorType=Window}}"/>
        <Button Content="확인" Click="OK_Click"/>
        
        코드:
        private void OK_Click(object sender, RoutedEventArgs e)
        {
            UserInput = inputTextBox.Text;
            this.DialogResult = true;
        }
        
        MainWindow:
        Window1 window1 = new Window1();
        if (window1.ShowDialog() == true)
        {
            string userInput = window1.UserInput;
            MessageBox.Show($"입력: {userInput}");
        }
        
        ========== Owner 설정 예제 ==========
        
        MainWindow:
        Window1 window1 = new Window1();
        window1.Owner = this; // MainWindow를 Owner로
        window1.WindowStartupLocation = WindowStartupLocation.CenterOwner;
        window1.ShowDialog();
        
        효과:
        - Window1이 MainWindow 중앙에 표시
        - MainWindow 최소화 시 Window1도 최소화
        - MainWindow 닫을 때 Window1도 닫힘
        
        ========== 실전 활용 예제 ==========
        
        1. 입력 대화상자:
           <StackPanel Margin="10">
               <Label Content="이름:"/>
               <TextBox x:Name="nameTextBox"/>
               <Label Content="나이:"/>
               <TextBox x:Name="ageTextBox"/>
               <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,10,0,0">
                   <Button Content="확인" Click="OK_Click" Width="70" Margin="5"/>
                   <Button Content="취소" Click="Cancel_Click" Width="70" Margin="5"/>
               </StackPanel>
           </StackPanel>
        
        2. 확인 대화상자:
           <StackPanel Margin="20">
               <TextBlock x:Name="messageTextBlock" TextWrapping="Wrap"/>
               <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,20,0,0">
                   <Button Content="예" Click="Yes_Click" Width="70" Margin="5"/>
                   <Button Content="아니오" Click="No_Click" Width="70" Margin="5"/>
               </StackPanel>
           </StackPanel>
        
        3. 진행률 대화상자:
           <StackPanel Margin="20">
               <TextBlock Text="처리 중..." HorizontalAlignment="Center"/>
               <ProgressBar x:Name="progressBar" Height="20" Margin="0,10,0,0"/>
               <Button Content="취소" Click="Cancel_Click" HorizontalAlignment="Center" Margin="0,10,0,0"/>
           </StackPanel>
    -->
</Window>
