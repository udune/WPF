<!-- 
    App.xaml - 애니메이션 학습 애플리케이션의 진입점
    WPF 애플리케이션의 전역 설정 및 리소스를 정의합니다.
-->
<Application x:Class="ch33_애니메이션.App"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:local="clr-namespace:ch33_애니메이션"
             StartupUri="MainWindow.xaml">
    <!-- 
        Application 속성:
        
        StartupUri="MainWindow.xaml":
        - 애플리케이션 시작 시 표시될 윈도우
        - MainWindow가 로드되면서 애니메이션 자동 시작
    -->
    
    <Application.Resources>
        <!-- 
            Application.Resources:
            - 애플리케이션 전역 리소스 정의 영역
            - 현재 비어 있음
            
            애니메이션 관련 전역 리소스 예제:
            
            ========== 1. 재사용 가능한 Storyboard ==========
            
            <Storyboard x:Key="FadeInStoryboard">
                <DoubleAnimation Storyboard.TargetProperty="Opacity"
                               From="0" To="1" Duration="0:0:1"/>
            </Storyboard>
            
            사용:
            XAML:
            <Button.Triggers>
                <EventTrigger RoutedEvent="Loaded">
                    <BeginStoryboard Storyboard="{StaticResource FadeInStoryboard}"/>
                </EventTrigger>
            </Button.Triggers>
            
            코드:
            var storyboard = (Storyboard)Resources["FadeInStoryboard"];
            storyboard.Begin(myButton);
            
            ========== 2. 재사용 가능한 EasingFunction ==========
            
            <QuadraticEase x:Key="SmoothEasing" EasingMode="EaseInOut"/>
            
            사용:
            <DoubleAnimation To="300" Duration="0:0:1"
                           EasingFunction="{StaticResource SmoothEasing}"/>
            
            ========== 3. 공통 Duration ==========
            
            <Duration x:Key="StandardDuration">0:0:0.3</Duration>
            
            사용:
            <DoubleAnimation To="200" Duration="{StaticResource StandardDuration}"/>
            
            ========== 4. 애니메이션 Style ==========
            
            <Style x:Key="AnimatedButtonStyle" TargetType="Button">
                <Setter Property="RenderTransform">
                    <Setter.Value>
                        <ScaleTransform ScaleX="1" ScaleY="1"/>
                    </Setter.Value>
                </Setter>
                <Setter Property="RenderTransformOrigin" Value="0.5,0.5"/>
                <Style.Triggers>
                    <EventTrigger RoutedEvent="MouseEnter">
                        <BeginStoryboard>
                            <Storyboard>
                                <DoubleAnimation Storyboard.TargetProperty="(UIElement.RenderTransform).(ScaleTransform.ScaleX)"
                                               To="1.1" Duration="0:0:0.2"/>
                                <DoubleAnimation Storyboard.TargetProperty="(UIElement.RenderTransform).(ScaleTransform.ScaleY)"
                                               To="1.1" Duration="0:0:0.2"/>
                            </Storyboard>
                        </BeginStoryboard>
                    </EventTrigger>
                    <EventTrigger RoutedEvent="MouseLeave">
                        <BeginStoryboard>
                            <Storyboard>
                                <DoubleAnimation Storyboard.TargetProperty="(UIElement.RenderTransform).(ScaleTransform.ScaleX)"
                                               To="1" Duration="0:0:0.2"/>
                                <DoubleAnimation Storyboard.TargetProperty="(UIElement.RenderTransform).(ScaleTransform.ScaleY)"
                                               To="1" Duration="0:0:0.2"/>
                            </Storyboard>
                        </BeginStoryboard>
                    </EventTrigger>
                </Style.Triggers>
            </Style>
            
            사용:
            <Button Style="{StaticResource AnimatedButtonStyle}">버튼</Button>
            
            ========== 5. 로딩 애니메이션 Storyboard ==========
            
            <Storyboard x:Key="LoadingSpinner" RepeatBehavior="Forever">
                <DoubleAnimation Storyboard.TargetProperty="(UIElement.RenderTransform).(RotateTransform.Angle)"
                               From="0" To="360" Duration="0:0:1"/>
            </Storyboard>
            
            사용:
            XAML:
            <Ellipse Width="50" Height="50">
                <Ellipse.RenderTransform>
                    <RotateTransform Angle="0"/>
                </Ellipse.RenderTransform>
                <Ellipse.Triggers>
                    <EventTrigger RoutedEvent="Loaded">
                        <BeginStoryboard Storyboard="{StaticResource LoadingSpinner}"/>
                    </EventTrigger>
                </Ellipse.Triggers>
            </Ellipse>
            
            ========== 6. 페이지 전환 애니메이션 ==========
            
            <Storyboard x:Key="PageSlideIn">
                <DoubleAnimation Storyboard.TargetProperty="(UIElement.RenderTransform).(TranslateTransform.X)"
                               From="800" To="0" Duration="0:0:0.5">
                    <DoubleAnimation.EasingFunction>
                        <QuadraticEase EasingMode="EaseOut"/>
                    </DoubleAnimation.EasingFunction>
                </DoubleAnimation>
            </Storyboard>
            
            <Storyboard x:Key="PageSlideOut">
                <DoubleAnimation Storyboard.TargetProperty="(UIElement.RenderTransform).(TranslateTransform.X)"
                               To="-800" Duration="0:0:0.5">
                    <DoubleAnimation.EasingFunction>
                        <QuadraticEase EasingMode="EaseIn"/>
                    </DoubleAnimation.EasingFunction>
                </DoubleAnimation>
            </Storyboard>
            
            ========== 7. 펄스 효과 ==========
            
            <Storyboard x:Key="PulseEffect" AutoReverse="True" RepeatBehavior="Forever">
                <DoubleAnimation Storyboard.TargetProperty="(UIElement.RenderTransform).(ScaleTransform.ScaleX)"
                               From="1" To="1.05" Duration="0:0:1"/>
                <DoubleAnimation Storyboard.TargetProperty="(UIElement.RenderTransform).(ScaleTransform.ScaleY)"
                               From="1" To="1.05" Duration="0:0:1"/>
            </Storyboard>
            
            ========== 8. 셰이크 효과 ==========
            
            <Storyboard x:Key="ShakeEffect">
                <DoubleAnimationUsingKeyFrames Storyboard.TargetProperty="(UIElement.RenderTransform).(TranslateTransform.X)">
                    <LinearDoubleKeyFrame Value="10" KeyTime="0:0:0.05"/>
                    <LinearDoubleKeyFrame Value="-10" KeyTime="0:0:0.1"/>
                    <LinearDoubleKeyFrame Value="10" KeyTime="0:0:0.15"/>
                    <LinearDoubleKeyFrame Value="-10" KeyTime="0:0:0.2"/>
                    <LinearDoubleKeyFrame Value="0" KeyTime="0:0:0.25"/>
                </DoubleAnimationUsingKeyFrames>
            </Storyboard>
            
            ========== 9. 바운스 입장 ==========
            
            <Storyboard x:Key="BounceIn">
                <DoubleAnimation Storyboard.TargetProperty="(UIElement.RenderTransform).(TranslateTransform.Y)"
                               From="100" To="0" Duration="0:0:0.6">
                    <DoubleAnimation.EasingFunction>
                        <BounceEase EasingMode="EaseOut" Bounces="3" Bounciness="2"/>
                    </DoubleAnimation.EasingFunction>
                </DoubleAnimation>
                <DoubleAnimation Storyboard.TargetProperty="Opacity"
                               From="0" To="1" Duration="0:0:0.3"/>
            </Storyboard>
            
            ========== 10. 회전 효과 ==========
            
            <Storyboard x:Key="RotateEffect">
                <DoubleAnimation Storyboard.TargetProperty="(UIElement.RenderTransform).(RotateTransform.Angle)"
                               From="0" To="360" Duration="0:0:0.5"/>
            </Storyboard>
            
            ========== 코드에서 전역 리소스 사용 ==========
            
            App.xaml.cs:
            public partial class App : Application
            {
                protected override void OnStartup(StartupEventArgs e)
                {
                    base.OnStartup(e);
                    
                    // 전역 애니메이션 설정
                    Timeline.DesiredFrameRateProperty.OverrideMetadata(
                        typeof(Timeline),
                        new FrameworkPropertyMetadata { DefaultValue = 60 }
                    );
                }
            }
            
            ========== 테마별 애니메이션 ==========
            
            LightTheme.xaml:
            <Storyboard x:Key="ButtonHoverEffect">
                <ColorAnimation Storyboard.TargetProperty="(Button.Background).(SolidColorBrush.Color)"
                              To="LightGray" Duration="0:0:0.2"/>
            </Storyboard>
            
            DarkTheme.xaml:
            <Storyboard x:Key="ButtonHoverEffect">
                <ColorAnimation Storyboard.TargetProperty="(Button.Background).(SolidColorBrush.Color)"
                              To="DarkGray" Duration="0:0:0.2"/>
            </Storyboard>
            
            ========== 실전 활용 ==========
            
            1. 일관된 애니메이션:
               - 모든 버튼이 동일한 호버 효과
               - 전역 Style 사용
            
            2. 재사용성:
               - Storyboard를 한 번 정의
               - 여러 곳에서 참조
            
            3. 유지보수:
               - App.xaml에서 중앙 관리
               - 변경 시 한 곳만 수정
            
            4. 성능:
               - 리소스는 한 번만 로드
               - 메모리 효율적
            
            ========== 주의사항 ==========
            
            1. 과도한 애니메이션:
               - 사용자 경험 저해
               - 적절히 사용
            
            2. 성능:
               - 복잡한 애니메이션은 성능 저하
               - 하드웨어 가속 활용
            
            3. 접근성:
               - 애니메이션 속도 조절 옵션
               - 애니메이션 비활성화 옵션
            
            4. 프레임 레이트:
               - 60fps 목표
               - Timeline.DesiredFrameRate 설정
            
            5. 메모리:
               - 불필요한 Storyboard 제거
               - 이벤트 핸들러 해제
        -->
    </Application.Resources>
</Application>
