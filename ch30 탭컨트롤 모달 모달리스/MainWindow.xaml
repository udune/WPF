<Window x:Class="ch30_탭컨트롤_모달_모달리스.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:ch30_탭컨트롤_모달_모달리스"
        mc:Ignorable="d"
        Title="ch30 TabControl/모달/모달리스 튜토리얼" Height="600" Width="850">

    <Window.Resources>
        <Style x:Key="CodeExpanderStyle" TargetType="Expander">
            <Setter Property="Header" Value="코드 보기"/>
            <Setter Property="Margin" Value="0,0,0,12"/>
            <Setter Property="IsExpanded" Value="False"/>
        </Style>
        <Style x:Key="CodeTextBoxStyle" TargetType="TextBox">
            <Setter Property="IsReadOnly" Value="True"/>
            <Setter Property="FontFamily" Value="Consolas"/>
            <Setter Property="FontSize" Value="12"/>
            <Setter Property="Background" Value="#1E1E1E"/>
            <Setter Property="Foreground" Value="#DCDCDC"/>
            <Setter Property="Padding" Value="10"/>
            <Setter Property="TextWrapping" Value="Wrap"/>
            <Setter Property="AcceptsReturn" Value="True"/>
            <Setter Property="VerticalScrollBarVisibility" Value="Auto"/>
            <Setter Property="MaxHeight" Value="300"/>
            <Setter Property="BorderBrush" Value="#333333"/>
            <Setter Property="BorderThickness" Value="1"/>
        </Style>
    </Window.Resources>

    <Grid>
        <TabControl>
            <!-- 탭 1: 실습 -->
            <TabItem Header="실습">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="*"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>

                    <!-- TabControl 실습 영역 -->
                    <GroupBox Header="TabControl 실습" Margin="20,20,20,10">
                        <TabControl x:Name="demoTabControl" Margin="10">
                            <TabItem Header="홈">
                                <StackPanel VerticalAlignment="Center" HorizontalAlignment="Center">
                                    <TextBlock Text="홈 탭" FontSize="24" FontWeight="Bold" Foreground="#2196F3"/>
                                    <TextBlock Text="TabControl의 기본 탭입니다." Margin="0,10,0,0"/>
                                </StackPanel>
                            </TabItem>
                            <TabItem Header="설정">
                                <StackPanel VerticalAlignment="Center" HorizontalAlignment="Center">
                                    <TextBlock Text="설정 탭" FontSize="24" FontWeight="Bold" Foreground="#4CAF50"/>
                                    <TextBlock Text="애플리케이션 설정을 구성합니다." Margin="0,10,0,0"/>
                                </StackPanel>
                            </TabItem>
                            <TabItem>
                                <TabItem.Header>
                                    <StackPanel Orientation="Horizontal">
                                        <Ellipse Width="10" Height="10" Fill="#FF5722" Margin="0,0,5,0"/>
                                        <TextBlock Text="알림"/>
                                    </StackPanel>
                                </TabItem.Header>
                                <StackPanel VerticalAlignment="Center" HorizontalAlignment="Center">
                                    <TextBlock Text="알림 탭" FontSize="24" FontWeight="Bold" Foreground="#FF5722"/>
                                    <TextBlock Text="커스텀 헤더(아이콘 + 텍스트)를 사용한 탭입니다." Margin="0,10,0,0"/>
                                </StackPanel>
                            </TabItem>
                        </TabControl>
                    </GroupBox>

                    <!-- 모달/모달리스 실습 영역 -->
                    <GroupBox Header="모달 / 모달리스 실습" Grid.Row="1" Margin="20,10,20,20">
                        <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Margin="10">
                            <Button Content="모달리스 창 열기" Click="Modalless_Click"
                                    Width="150" Height="40" Margin="10"
                                    Background="#2196F3" Foreground="White" BorderThickness="0"/>
                            <Button Content="모달 창 열기" Click="Modal_Click"
                                    Width="150" Height="40" Margin="10"
                                    Background="#E91E63" Foreground="White" BorderThickness="0"/>
                            <TextBlock x:Name="resultText" VerticalAlignment="Center" Margin="20,0,0,0"
                                       FontSize="14" Foreground="#666"/>
                        </StackPanel>
                    </GroupBox>
                </Grid>
            </TabItem>

            <!-- 탭 2: TabControl 기초 -->
            <TabItem Header="TabControl 기초">
                <ScrollViewer VerticalScrollBarVisibility="Auto" Padding="20">
                    <StackPanel>
                        <TextBlock Text="TabControl 컨트롤" FontSize="18" FontWeight="Bold" Margin="0,0,0,15"/>

                        <!-- TabControl이란? -->
                        <GroupBox Header="TabControl이란?" Margin="0,0,0,10">
                            <StackPanel Margin="10">
                                <TextBlock TextWrapping="Wrap" Margin="0,0,0,10">
                                    <Run FontWeight="Bold">TabControl</Run>
                                    <Run>은 여러 페이지를 탭으로 구분하여 표시하는 컨트롤입니다.</Run>
                                    <LineBreak/>
                                    <Run>사용자가 탭 헤더를 클릭하면 해당 탭의 콘텐츠가 표시됩니다.</Run>
                                </TextBlock>
                                <Border Background="LightYellow" Padding="10" CornerRadius="5">
                                    <StackPanel>
                                        <TextBlock Text="TabControl의 주요 특징:" FontWeight="Bold"/>
                                        <TextBlock Text="• 여러 TabItem을 포함"/>
                                        <TextBlock Text="• 한 번에 하나의 탭만 활성화"/>
                                        <TextBlock Text="• 탭 위치 변경 가능 (상/하/좌/우)"/>
                                        <TextBlock Text="• 헤더와 콘텐츠 커스터마이징 가능"/>
                                    </StackPanel>
                                </Border>
                            </StackPanel>
                        </GroupBox>
                        <Expander Style="{StaticResource CodeExpanderStyle}">
                            <TextBox Style="{StaticResource CodeTextBoxStyle}" Text="&lt;!-- 기본 TabControl --&gt;&#10;&lt;TabControl&gt;&#10;    &lt;TabItem Header=&quot;탭 1&quot;&gt;&#10;        &lt;TextBlock Text=&quot;탭 1의 내용&quot;/&gt;&#10;    &lt;/TabItem&gt;&#10;    &lt;TabItem Header=&quot;탭 2&quot;&gt;&#10;        &lt;TextBlock Text=&quot;탭 2의 내용&quot;/&gt;&#10;    &lt;/TabItem&gt;&#10;    &lt;TabItem Header=&quot;탭 3&quot;&gt;&#10;        &lt;TextBlock Text=&quot;탭 3의 내용&quot;/&gt;&#10;    &lt;/TabItem&gt;&#10;&lt;/TabControl&gt;"/>
                        </Expander>

                        <!-- TabStripPlacement -->
                        <GroupBox Header="탭 위치 (TabStripPlacement)" Margin="0,0,0,10">
                            <StackPanel Margin="10">
                                <TextBlock TextWrapping="Wrap" Margin="0,0,0,10">
                                    TabStripPlacement 속성으로 탭 헤더의 위치를 변경할 수 있습니다.
                                </TextBlock>
                                <WrapPanel Margin="0,0,0,10">
                                    <Border Background="#E3F2FD" Padding="15" CornerRadius="5" Margin="0,0,10,10" Width="170">
                                        <StackPanel>
                                            <TextBlock Text="Top (기본값)" FontWeight="Bold" HorizontalAlignment="Center"/>
                                            <TextBlock Text="탭이 위쪽에 표시" HorizontalAlignment="Center" FontSize="11"/>
                                        </StackPanel>
                                    </Border>
                                    <Border Background="#E8F5E9" Padding="15" CornerRadius="5" Margin="0,0,10,10" Width="170">
                                        <StackPanel>
                                            <TextBlock Text="Bottom" FontWeight="Bold" HorizontalAlignment="Center"/>
                                            <TextBlock Text="탭이 아래쪽에 표시" HorizontalAlignment="Center" FontSize="11"/>
                                        </StackPanel>
                                    </Border>
                                    <Border Background="#FFF3E0" Padding="15" CornerRadius="5" Margin="0,0,10,10" Width="170">
                                        <StackPanel>
                                            <TextBlock Text="Left" FontWeight="Bold" HorizontalAlignment="Center"/>
                                            <TextBlock Text="탭이 왼쪽에 표시" HorizontalAlignment="Center" FontSize="11"/>
                                        </StackPanel>
                                    </Border>
                                    <Border Background="#FCE4EC" Padding="15" CornerRadius="5" Margin="0,0,10,10" Width="170">
                                        <StackPanel>
                                            <TextBlock Text="Right" FontWeight="Bold" HorizontalAlignment="Center"/>
                                            <TextBlock Text="탭이 오른쪽에 표시" HorizontalAlignment="Center" FontSize="11"/>
                                        </StackPanel>
                                    </Border>
                                </WrapPanel>
                            </StackPanel>
                        </GroupBox>
                        <Expander Style="{StaticResource CodeExpanderStyle}">
                            <TextBox Style="{StaticResource CodeTextBoxStyle}" Text="&lt;!-- 탭을 아래쪽에 배치 --&gt;&#10;&lt;TabControl TabStripPlacement=&quot;Bottom&quot;&gt;&#10;    &lt;TabItem Header=&quot;탭 1&quot;&gt;...&lt;/TabItem&gt;&#10;    &lt;TabItem Header=&quot;탭 2&quot;&gt;...&lt;/TabItem&gt;&#10;&lt;/TabControl&gt;&#10;&#10;&lt;!-- 탭을 왼쪽에 배치 --&gt;&#10;&lt;TabControl TabStripPlacement=&quot;Left&quot;&gt;&#10;    &lt;TabItem Header=&quot;탭 1&quot;&gt;...&lt;/TabItem&gt;&#10;    &lt;TabItem Header=&quot;탭 2&quot;&gt;...&lt;/TabItem&gt;&#10;&lt;/TabControl&gt;"/>
                        </Expander>

                        <!-- SelectedIndex / SelectedItem -->
                        <GroupBox Header="선택된 탭 제어" Margin="0,0,0,10">
                            <StackPanel Margin="10">
                                <TextBlock TextWrapping="Wrap" Margin="0,0,0,10">
                                    SelectedIndex 또는 SelectedItem으로 선택된 탭을 제어할 수 있습니다.
                                </TextBlock>
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>
                                    <Border Background="#BBDEFB" Padding="10" CornerRadius="5" Margin="0,0,5,0">
                                        <StackPanel>
                                            <TextBlock Text="SelectedIndex" FontWeight="Bold"/>
                                            <TextBlock Text="인덱스(0부터)로 선택" Margin="0,5,0,0" FontSize="12"/>
                                        </StackPanel>
                                    </Border>
                                    <Border Grid.Column="1" Background="#C8E6C9" Padding="10" CornerRadius="5" Margin="5,0,0,0">
                                        <StackPanel>
                                            <TextBlock Text="SelectedItem" FontWeight="Bold"/>
                                            <TextBlock Text="TabItem 객체로 선택" Margin="0,5,0,0" FontSize="12"/>
                                        </StackPanel>
                                    </Border>
                                </Grid>
                            </StackPanel>
                        </GroupBox>
                        <Expander Style="{StaticResource CodeExpanderStyle}">
                            <TextBox Style="{StaticResource CodeTextBoxStyle}" Text="&lt;!-- XAML에서 초기 탭 지정 --&gt;&#10;&lt;TabControl SelectedIndex=&quot;1&quot;&gt;  &lt;!-- 두 번째 탭 선택 --&gt;&#10;    &lt;TabItem Header=&quot;탭 1&quot;/&gt;&#10;    &lt;TabItem Header=&quot;탭 2&quot;/&gt;  &lt;!-- 이 탭이 선택됨 --&gt;&#10;&lt;/TabControl&gt;&#10;&#10;// C# 코드에서 탭 선택&#10;tabControl.SelectedIndex = 0;  // 첫 번째 탭&#10;tabControl.SelectedItem = tab2; // 특정 TabItem 선택&#10;&#10;// 선택 변경 이벤트&#10;tabControl.SelectionChanged += (s, e) =&gt;&#10;{&#10;    var selectedTab = tabControl.SelectedItem as TabItem;&#10;    MessageBox.Show($&quot;선택된 탭: {selectedTab.Header}&quot;);&#10;};"/>
                        </Expander>
                    </StackPanel>
                </ScrollViewer>
            </TabItem>

            <!-- 탭 3: TabItem 커스터마이징 -->
            <TabItem Header="TabItem 스타일">
                <ScrollViewer VerticalScrollBarVisibility="Auto" Padding="20">
                    <StackPanel>
                        <TextBlock Text="TabItem 커스터마이징" FontSize="18" FontWeight="Bold" Margin="0,0,0,15"/>

                        <!-- 커스텀 헤더 -->
                        <GroupBox Header="커스텀 헤더" Margin="0,0,0,10">
                            <StackPanel Margin="10">
                                <TextBlock TextWrapping="Wrap" Margin="0,0,0,10">
                                    TabItem.Header에 복잡한 콘텐츠를 배치할 수 있습니다.
                                    아이콘, 닫기 버튼, 뱃지 등을 추가할 수 있습니다.
                                </TextBlock>
                                <Border Background="LightCyan" Padding="10" CornerRadius="5">
                                    <StackPanel>
                                        <TextBlock Text="커스텀 헤더 예시:" FontWeight="Bold"/>
                                        <TextBlock Text="• 아이콘 + 텍스트"/>
                                        <TextBlock Text="• 닫기(X) 버튼"/>
                                        <TextBlock Text="• 알림 뱃지"/>
                                        <TextBlock Text="• 상태 표시 (색상 원)"/>
                                    </StackPanel>
                                </Border>
                            </StackPanel>
                        </GroupBox>
                        <Expander Style="{StaticResource CodeExpanderStyle}">
                            <TextBox Style="{StaticResource CodeTextBoxStyle}" Text="&lt;!-- 아이콘 + 텍스트 헤더 --&gt;&#10;&lt;TabItem&gt;&#10;    &lt;TabItem.Header&gt;&#10;        &lt;StackPanel Orientation=&quot;Horizontal&quot;&gt;&#10;            &lt;Image Source=&quot;icon.png&quot; Width=&quot;16&quot; Height=&quot;16&quot; Margin=&quot;0,0,5,0&quot;/&gt;&#10;            &lt;TextBlock Text=&quot;설정&quot;/&gt;&#10;        &lt;/StackPanel&gt;&#10;    &lt;/TabItem.Header&gt;&#10;    &lt;!-- 탭 콘텐츠 --&gt;&#10;&lt;/TabItem&gt;&#10;&#10;&lt;!-- 닫기 버튼 헤더 --&gt;&#10;&lt;TabItem&gt;&#10;    &lt;TabItem.Header&gt;&#10;        &lt;StackPanel Orientation=&quot;Horizontal&quot;&gt;&#10;            &lt;TextBlock Text=&quot;문서 1&quot; VerticalAlignment=&quot;Center&quot;/&gt;&#10;            &lt;Button Content=&quot;×&quot; Width=&quot;16&quot; Height=&quot;16&quot; Margin=&quot;5,0,0,0&quot;&#10;                    FontSize=&quot;10&quot; Padding=&quot;0&quot; Click=&quot;CloseTab_Click&quot;/&gt;&#10;        &lt;/StackPanel&gt;&#10;    &lt;/TabItem.Header&gt;&#10;&lt;/TabItem&gt;&#10;&#10;&lt;!-- 알림 뱃지 헤더 --&gt;&#10;&lt;TabItem&gt;&#10;    &lt;TabItem.Header&gt;&#10;        &lt;Grid&gt;&#10;            &lt;TextBlock Text=&quot;알림&quot;/&gt;&#10;            &lt;Border Background=&quot;Red&quot; CornerRadius=&quot;7&quot; Width=&quot;14&quot; Height=&quot;14&quot;&#10;                    HorizontalAlignment=&quot;Right&quot; VerticalAlignment=&quot;Top&quot; Margin=&quot;0,-5,-10,0&quot;&gt;&#10;                &lt;TextBlock Text=&quot;3&quot; Foreground=&quot;White&quot; FontSize=&quot;9&quot;&#10;                           HorizontalAlignment=&quot;Center&quot; VerticalAlignment=&quot;Center&quot;/&gt;&#10;            &lt;/Border&gt;&#10;        &lt;/Grid&gt;&#10;    &lt;/TabItem.Header&gt;&#10;&lt;/TabItem&gt;"/>
                        </Expander>

                        <!-- IsEnabled / IsSelected -->
                        <GroupBox Header="TabItem 상태 제어" Margin="0,0,0,10">
                            <StackPanel Margin="10">
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>
                                    <Border Background="#FFECB3" Padding="15" CornerRadius="5" Margin="0,0,5,0">
                                        <StackPanel>
                                            <TextBlock Text="IsEnabled" FontWeight="Bold"/>
                                            <TextBlock Text="False로 설정하면 탭 비활성화" Margin="0,5,0,0" FontSize="12" TextWrapping="Wrap"/>
                                            <TextBlock Text="(클릭 불가, 회색 표시)" FontSize="11" Foreground="Gray"/>
                                        </StackPanel>
                                    </Border>
                                    <Border Grid.Column="1" Background="#B3E5FC" Padding="15" CornerRadius="5" Margin="5,0,0,0">
                                        <StackPanel>
                                            <TextBlock Text="IsSelected" FontWeight="Bold"/>
                                            <TextBlock Text="True로 설정하면 탭 선택" Margin="0,5,0,0" FontSize="12" TextWrapping="Wrap"/>
                                            <TextBlock Text="(해당 탭 콘텐츠 표시)" FontSize="11" Foreground="Gray"/>
                                        </StackPanel>
                                    </Border>
                                </Grid>
                            </StackPanel>
                        </GroupBox>
                        <Expander Style="{StaticResource CodeExpanderStyle}">
                            <TextBox Style="{StaticResource CodeTextBoxStyle}" Text="&lt;!-- 비활성화된 탭 --&gt;&#10;&lt;TabItem Header=&quot;프리미엄 기능&quot; IsEnabled=&quot;False&quot;&gt;&#10;    &lt;TextBlock Text=&quot;프리미엄 회원 전용입니다.&quot;/&gt;&#10;&lt;/TabItem&gt;&#10;&#10;&lt;!-- 초기에 선택된 탭 --&gt;&#10;&lt;TabItem Header=&quot;설정&quot; IsSelected=&quot;True&quot;&gt;&#10;    &lt;TextBlock Text=&quot;이 탭이 처음에 선택됩니다.&quot;/&gt;&#10;&lt;/TabItem&gt;&#10;&#10;// C#에서 동적으로 제어&#10;premiumTab.IsEnabled = isPremiumUser;&#10;settingsTab.IsSelected = true;"/>
                        </Expander>

                        <!-- 동적 탭 추가/제거 -->
                        <GroupBox Header="동적 탭 관리" Margin="0,0,0,10">
                            <StackPanel Margin="10">
                                <TextBlock TextWrapping="Wrap" Margin="0,0,0,10">
                                    코드에서 TabItem을 동적으로 추가하거나 제거할 수 있습니다.
                                </TextBlock>
                                <Border Background="MistyRose" Padding="10" CornerRadius="5">
                                    <StackPanel>
                                        <TextBlock Text="동적 관리 메서드:" FontWeight="Bold"/>
                                        <TextBlock Text="• Items.Add() - 탭 추가" FontFamily="Consolas"/>
                                        <TextBlock Text="• Items.Remove() - 탭 제거" FontFamily="Consolas"/>
                                        <TextBlock Text="• Items.Clear() - 모든 탭 제거" FontFamily="Consolas"/>
                                        <TextBlock Text="• Items.Insert() - 특정 위치에 삽입" FontFamily="Consolas"/>
                                    </StackPanel>
                                </Border>
                            </StackPanel>
                        </GroupBox>
                        <Expander Style="{StaticResource CodeExpanderStyle}">
                            <TextBox Style="{StaticResource CodeTextBoxStyle}" Text="// 새 탭 추가&#10;private void AddTab_Click(object sender, RoutedEventArgs e)&#10;{&#10;    var newTab = new TabItem&#10;    {&#10;        Header = $&quot;문서 {tabControl.Items.Count + 1}&quot;,&#10;        Content = new TextBox { Text = &quot;새 문서 내용&quot; }&#10;    };&#10;    tabControl.Items.Add(newTab);&#10;    tabControl.SelectedItem = newTab; // 새 탭 선택&#10;}&#10;&#10;// 현재 탭 제거&#10;private void CloseTab_Click(object sender, RoutedEventArgs e)&#10;{&#10;    var button = sender as Button;&#10;    var tabItem = FindParent&lt;TabItem&gt;(button);&#10;    if (tabItem != null &amp;&amp; tabControl.Items.Count &gt; 1)&#10;    {&#10;        tabControl.Items.Remove(tabItem);&#10;    }&#10;}&#10;&#10;// 부모 요소 찾기 헬퍼&#10;private T FindParent&lt;T&gt;(DependencyObject child) where T : DependencyObject&#10;{&#10;    var parent = VisualTreeHelper.GetParent(child);&#10;    if (parent == null) return null;&#10;    if (parent is T t) return t;&#10;    return FindParent&lt;T&gt;(parent);&#10;}"/>
                        </Expander>
                    </StackPanel>
                </ScrollViewer>
            </TabItem>

            <!-- 탭 4: 모달 vs 모달리스 -->
            <TabItem Header="모달/모달리스">
                <ScrollViewer VerticalScrollBarVisibility="Auto" Padding="20">
                    <StackPanel>
                        <TextBlock Text="모달 vs 모달리스 창" FontSize="18" FontWeight="Bold" Margin="0,0,0,15"/>

                        <!-- 개념 설명 -->
                        <GroupBox Header="모달과 모달리스란?" Margin="0,0,0,10">
                            <Grid Margin="10">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>
                                <Border Background="#FFCDD2" Padding="15" CornerRadius="5" Margin="0,0,5,0">
                                    <StackPanel>
                                        <TextBlock Text="모달 (Modal)" FontWeight="Bold" FontSize="14" Foreground="#C62828"/>
                                        <TextBlock Text="ShowDialog()" FontFamily="Consolas" Margin="0,10,0,5"/>
                                        <TextBlock Text="• 부모 창 조작 불가" TextWrapping="Wrap"/>
                                        <TextBlock Text="• 반드시 닫아야 진행"/>
                                        <TextBlock Text="• 결과값 반환 가능"/>
                                        <TextBlock Text="• 확인/취소 대화상자에 적합" TextWrapping="Wrap"/>
                                    </StackPanel>
                                </Border>
                                <Border Grid.Column="1" Background="#BBDEFB" Padding="15" CornerRadius="5" Margin="5,0,0,0">
                                    <StackPanel>
                                        <TextBlock Text="모달리스 (Modeless)" FontWeight="Bold" FontSize="14" Foreground="#1565C0"/>
                                        <TextBlock Text="Show()" FontFamily="Consolas" Margin="0,10,0,5"/>
                                        <TextBlock Text="• 부모 창 조작 가능" TextWrapping="Wrap"/>
                                        <TextBlock Text="• 자유롭게 전환 가능"/>
                                        <TextBlock Text="• 독립적으로 동작"/>
                                        <TextBlock Text="• 도구 창, 팔레트에 적합" TextWrapping="Wrap"/>
                                    </StackPanel>
                                </Border>
                            </Grid>
                        </GroupBox>
                        <Expander Style="{StaticResource CodeExpanderStyle}">
                            <TextBox Style="{StaticResource CodeTextBoxStyle}" Text="// 모달 창 열기&#10;private void OpenModal_Click(object sender, RoutedEventArgs e)&#10;{&#10;    var dialog = new DialogWindow();&#10;    dialog.Owner = this; // 부모 창 설정&#10;    &#10;    bool? result = dialog.ShowDialog(); // 창이 닫힐 때까지 대기&#10;    &#10;    if (result == true)&#10;    {&#10;        MessageBox.Show(&quot;확인됨&quot;);&#10;    }&#10;    else&#10;    {&#10;        MessageBox.Show(&quot;취소됨&quot;);&#10;    }&#10;}&#10;&#10;// 모달리스 창 열기&#10;private void OpenModeless_Click(object sender, RoutedEventArgs e)&#10;{&#10;    var toolWindow = new ToolWindow();&#10;    toolWindow.Owner = this;&#10;    toolWindow.Show(); // 즉시 반환, 두 창 모두 사용 가능&#10;}"/>
                        </Expander>

                        <!-- Show vs ShowDialog -->
                        <GroupBox Header="Show() vs ShowDialog() 비교" Margin="0,0,0,10">
                            <StackPanel Margin="10">
                                <Border Background="#FFF8E1" Padding="15" CornerRadius="5">
                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="*"/>
                                        </Grid.ColumnDefinitions>
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="Auto"/>
                                            <RowDefinition Height="Auto"/>
                                            <RowDefinition Height="Auto"/>
                                            <RowDefinition Height="Auto"/>
                                            <RowDefinition Height="Auto"/>
                                        </Grid.RowDefinitions>

                                        <TextBlock Text="특성" FontWeight="Bold" Grid.Row="0"/>
                                        <TextBlock Text="Show()" FontWeight="Bold" Grid.Row="0" Grid.Column="1" HorizontalAlignment="Center"/>
                                        <TextBlock Text="ShowDialog()" FontWeight="Bold" Grid.Row="0" Grid.Column="2" HorizontalAlignment="Center"/>

                                        <TextBlock Text="부모 창 조작" Grid.Row="1" Margin="0,5,0,0"/>
                                        <TextBlock Text="가능" Grid.Row="1" Grid.Column="1" HorizontalAlignment="Center" Foreground="Green"/>
                                        <TextBlock Text="불가" Grid.Row="1" Grid.Column="2" HorizontalAlignment="Center" Foreground="Red"/>

                                        <TextBlock Text="코드 실행" Grid.Row="2" Margin="0,5,0,0"/>
                                        <TextBlock Text="즉시 계속" Grid.Row="2" Grid.Column="1" HorizontalAlignment="Center"/>
                                        <TextBlock Text="창 닫을 때까지 대기" Grid.Row="2" Grid.Column="2" HorizontalAlignment="Center"/>

                                        <TextBlock Text="반환값" Grid.Row="3" Margin="0,5,0,0"/>
                                        <TextBlock Text="void" Grid.Row="3" Grid.Column="1" HorizontalAlignment="Center"/>
                                        <TextBlock Text="bool?" Grid.Row="3" Grid.Column="2" HorizontalAlignment="Center"/>

                                        <TextBlock Text="사용 예" Grid.Row="4" Margin="0,5,0,0"/>
                                        <TextBlock Text="도구 창" Grid.Row="4" Grid.Column="1" HorizontalAlignment="Center"/>
                                        <TextBlock Text="확인 대화상자" Grid.Row="4" Grid.Column="2" HorizontalAlignment="Center"/>
                                    </Grid>
                                </Border>
                            </StackPanel>
                        </GroupBox>
                        <Expander Style="{StaticResource CodeExpanderStyle}">
                            <TextBox Style="{StaticResource CodeTextBoxStyle}" Text="// Show() - 모달리스&#10;var window = new Window1();&#10;window.Show();&#10;Console.WriteLine(&quot;이 코드는 즉시 실행됨&quot;);&#10;// window는 열린 채로, 다음 코드 진행&#10;&#10;// ShowDialog() - 모달&#10;var dialog = new Window1();&#10;bool? result = dialog.ShowDialog();&#10;Console.WriteLine(&quot;창이 닫힌 후에 실행됨&quot;);&#10;// dialog가 닫힐 때까지 여기서 대기"/>
                        </Expander>

                        <!-- Owner 설정 -->
                        <GroupBox Header="Owner 속성" Margin="0,0,0,10">
                            <StackPanel Margin="10">
                                <TextBlock TextWrapping="Wrap" Margin="0,0,0,10">
                                    Owner를 설정하면 자식 창이 부모 창과 연결됩니다.
                                </TextBlock>
                                <Border Background="LightGreen" Padding="10" CornerRadius="5">
                                    <StackPanel>
                                        <TextBlock Text="Owner 설정 효과:" FontWeight="Bold"/>
                                        <TextBlock Text="• 부모 창 최소화 시 자식도 최소화"/>
                                        <TextBlock Text="• 부모 창 닫으면 자식도 닫힘"/>
                                        <TextBlock Text="• Alt+Tab에서 그룹으로 표시"/>
                                        <TextBlock Text="• 자식 창이 부모 위에 표시"/>
                                    </StackPanel>
                                </Border>
                            </StackPanel>
                        </GroupBox>
                        <Expander Style="{StaticResource CodeExpanderStyle}">
                            <TextBox Style="{StaticResource CodeTextBoxStyle}" Text="var childWindow = new ChildWindow();&#10;childWindow.Owner = this; // 현재 창을 부모로 설정&#10;childWindow.Show();&#10;&#10;// 또는 WindowStartupLocation과 함께 사용&#10;var dialog = new DialogWindow();&#10;dialog.Owner = this;&#10;dialog.WindowStartupLocation = WindowStartupLocation.CenterOwner;&#10;dialog.ShowDialog();"/>
                        </Expander>
                    </StackPanel>
                </ScrollViewer>
            </TabItem>

            <!-- 탭 5: DialogResult -->
            <TabItem Header="DialogResult">
                <ScrollViewer VerticalScrollBarVisibility="Auto" Padding="20">
                    <StackPanel>
                        <TextBlock Text="DialogResult와 데이터 전달" FontSize="18" FontWeight="Bold" Margin="0,0,0,15"/>

                        <!-- DialogResult -->
                        <GroupBox Header="DialogResult 사용법" Margin="0,0,0,10">
                            <StackPanel Margin="10">
                                <TextBlock TextWrapping="Wrap" Margin="0,0,0,10">
                                    모달 창에서 DialogResult를 설정하면 창이 자동으로 닫히고,
                                    ShowDialog()의 반환값으로 받을 수 있습니다.
                                </TextBlock>
                                <Border Background="#E1F5FE" Padding="10" CornerRadius="5">
                                    <StackPanel>
                                        <TextBlock Text="DialogResult 값:" FontWeight="Bold"/>
                                        <TextBlock Text="• true - 확인 (OK, Yes)" FontFamily="Consolas"/>
                                        <TextBlock Text="• false - 취소 (Cancel, No)" FontFamily="Consolas"/>
                                        <TextBlock Text="• null - 닫기 버튼(X) 클릭" FontFamily="Consolas"/>
                                    </StackPanel>
                                </Border>
                            </StackPanel>
                        </GroupBox>
                        <Expander Style="{StaticResource CodeExpanderStyle}">
                            <TextBox Style="{StaticResource CodeTextBoxStyle}" Text="// 대화상자 창 (DialogWindow.xaml.cs)&#10;private void OK_Click(object sender, RoutedEventArgs e)&#10;{&#10;    this.DialogResult = true; // 창이 자동으로 닫힘&#10;}&#10;&#10;private void Cancel_Click(object sender, RoutedEventArgs e)&#10;{&#10;    this.DialogResult = false; // 창이 자동으로 닫힘&#10;}&#10;&#10;// MainWindow에서 결과 확인&#10;var dialog = new DialogWindow();&#10;bool? result = dialog.ShowDialog();&#10;&#10;if (result == true)&#10;{&#10;    // 확인 버튼 클릭됨&#10;}&#10;else if (result == false)&#10;{&#10;    // 취소 버튼 클릭됨&#10;}&#10;else // result == null&#10;{&#10;    // X 버튼으로 닫힘&#10;}"/>
                        </Expander>

                        <!-- IsDefault / IsCancel -->
                        <GroupBox Header="IsDefault와 IsCancel" Margin="0,0,0,10">
                            <StackPanel Margin="10">
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>
                                    <Border Background="#C8E6C9" Padding="15" CornerRadius="5" Margin="0,0,5,0">
                                        <StackPanel>
                                            <TextBlock Text="IsDefault=&quot;True&quot;" FontWeight="Bold"/>
                                            <TextBlock Text="Enter 키로 클릭" Margin="0,5,0,0"/>
                                            <TextBlock Text="기본 버튼 스타일 적용" FontSize="11" Foreground="Gray"/>
                                        </StackPanel>
                                    </Border>
                                    <Border Grid.Column="1" Background="#FFCDD2" Padding="15" CornerRadius="5" Margin="5,0,0,0">
                                        <StackPanel>
                                            <TextBlock Text="IsCancel=&quot;True&quot;" FontWeight="Bold"/>
                                            <TextBlock Text="ESC 키로 클릭" Margin="0,5,0,0"/>
                                            <TextBlock Text="자동으로 DialogResult=false" FontSize="11" Foreground="Gray"/>
                                        </StackPanel>
                                    </Border>
                                </Grid>
                            </StackPanel>
                        </GroupBox>
                        <Expander Style="{StaticResource CodeExpanderStyle}">
                            <TextBox Style="{StaticResource CodeTextBoxStyle}" Text="&lt;!-- 대화상자 XAML --&gt;&#10;&lt;StackPanel Orientation=&quot;Horizontal&quot; HorizontalAlignment=&quot;Right&quot;&gt;&#10;    &lt;Button Content=&quot;확인&quot; Click=&quot;OK_Click&quot; &#10;            IsDefault=&quot;True&quot; Width=&quot;80&quot; Margin=&quot;5&quot;/&gt;&#10;    &lt;Button Content=&quot;취소&quot; &#10;            IsCancel=&quot;True&quot; Width=&quot;80&quot; Margin=&quot;5&quot;/&gt;&#10;&lt;/StackPanel&gt;&#10;&#10;&lt;!-- IsCancel=&quot;True&quot;이면 클릭 이벤트 없이도&#10;     ESC 키로 창이 닫히고 DialogResult = false --&gt;"/>
                        </Expander>

                        <!-- 데이터 전달 -->
                        <GroupBox Header="대화상자에서 데이터 가져오기" Margin="0,0,0,10">
                            <StackPanel Margin="10">
                                <TextBlock TextWrapping="Wrap" Margin="0,0,0,10">
                                    대화상자에서 입력받은 데이터를 부모 창으로 전달하는 방법입니다.
                                </TextBlock>
                                <Border Background="#FFF3E0" Padding="10" CornerRadius="5">
                                    <StackPanel>
                                        <TextBlock Text="데이터 전달 방법:" FontWeight="Bold"/>
                                        <TextBlock Text="1. 대화상자에 public 속성 정의"/>
                                        <TextBlock Text="2. 확인 버튼 클릭 시 속성에 값 저장"/>
                                        <TextBlock Text="3. ShowDialog() 후 속성 값 읽기"/>
                                    </StackPanel>
                                </Border>
                            </StackPanel>
                        </GroupBox>
                        <Expander Style="{StaticResource CodeExpanderStyle}">
                            <TextBox Style="{StaticResource CodeTextBoxStyle}" Text="// InputDialog.xaml.cs&#10;public partial class InputDialog : Window&#10;{&#10;    public string InputText { get; private set; }&#10;    &#10;    private void OK_Click(object sender, RoutedEventArgs e)&#10;    {&#10;        if (string.IsNullOrWhiteSpace(inputTextBox.Text))&#10;        {&#10;            MessageBox.Show(&quot;값을 입력하세요.&quot;);&#10;            return;&#10;        }&#10;        &#10;        InputText = inputTextBox.Text;&#10;        this.DialogResult = true;&#10;    }&#10;}&#10;&#10;// MainWindow에서 사용&#10;var dialog = new InputDialog();&#10;dialog.Owner = this;&#10;&#10;if (dialog.ShowDialog() == true)&#10;{&#10;    string userInput = dialog.InputText;&#10;    MessageBox.Show($&quot;입력값: {userInput}&quot;);&#10;}"/>
                        </Expander>

                        <!-- Closing 이벤트 -->
                        <GroupBox Header="창 닫기 전 확인" Margin="0,0,0,10">
                            <StackPanel Margin="10">
                                <TextBlock TextWrapping="Wrap" Margin="0,0,0,10">
                                    Closing 이벤트에서 창 닫기를 취소할 수 있습니다.
                                    저장되지 않은 데이터가 있을 때 확인 메시지를 표시하는 데 유용합니다.
                                </TextBlock>
                            </StackPanel>
                        </GroupBox>
                        <Expander Style="{StaticResource CodeExpanderStyle}">
                            <TextBox Style="{StaticResource CodeTextBoxStyle}" Text="// XAML&#10;&lt;Window Closing=&quot;Window_Closing&quot;&gt;&#10;&#10;// 코드비하인드&#10;private bool hasUnsavedChanges = false;&#10;&#10;private void Window_Closing(object sender, CancelEventArgs e)&#10;{&#10;    if (hasUnsavedChanges)&#10;    {&#10;        var result = MessageBox.Show(&#10;            &quot;저장하지 않은 변경사항이 있습니다.\n정말 닫으시겠습니까?&quot;,&#10;            &quot;확인&quot;,&#10;            MessageBoxButton.YesNo,&#10;            MessageBoxImage.Warning);&#10;        &#10;        if (result == MessageBoxResult.No)&#10;        {&#10;            e.Cancel = true; // 창 닫기 취소&#10;        }&#10;    }&#10;}"/>
                        </Expander>
                    </StackPanel>
                </ScrollViewer>
            </TabItem>
        </TabControl>
    </Grid>
</Window>
