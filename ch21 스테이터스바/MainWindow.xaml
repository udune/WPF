<!-- 
    ch21 스테이터스바 - WPF StatusBar 컨트롤의 기능을 보여주는 예제 파일
    StatusBar는 애플리케이션의 상태 정보를 화면 하단에 표시하는 컨트롤입니다.
    현재 상태, 진행률, 시간, 알림 메시지 등을 사용자에게 전달하는 용도로 사용됩니다.
-->
<Window x:Class="ch21_스테이터스바.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:ch21_스테이터스바"
        mc:Ignorable="d"
        Title="MainWindow" Height="450" Width="800">
    
    <!-- 
        DockPanel: StatusBar를 하단에 고정하기 위한 레이아웃 패널
        StatusBar는 일반적으로 화면 하단에 배치됩니다.
    -->
    <DockPanel LastChildFill="False">
        <!-- 
            LastChildFill="False":
            - 마지막 자식 요소가 남은 공간을 채우지 않도록 설정
            - 각 요소가 고정된 위치에만 배치됨
            - StatusBar가 하단에, Slider가 상단에 고정
            
            LastChildFill="True"(기본값)일 경우:
            - 마지막 자식이 남은 공간을 모두 차지
            - 중앙 콘텐츠 영역에 사용
        -->
        
        <!-- Slider를 상단에 배치 -->
        <Slider DockPanel.Dock="Top" x:Name="sl" Maximum="100"
                ValueChanged="sl_ValueChanged"></Slider>
        <!-- 
            Slider:
            - 값을 조절하는 슬라이더 컨트롤
            - StatusBar의 진행 상태를 시뮬레이션하기 위해 사용
            
            DockPanel.Dock="Top":
            - DockPanel의 상단에 배치
            - 전체 너비를 차지
            
            x:Name="sl":
            - 코드 비하인드에서 접근하기 위한 이름
            
            Maximum="100":
            - 슬라이더의 최대값
            - 0(기본 Minimum) ~ 100 범위
            - 퍼센트를 표현하기에 적합
            
            ValueChanged="sl_ValueChanged":
            - 슬라이더 값이 변경될 때 호출되는 이벤트 핸들러
            - StatusBar의 상태와 ProgressBar의 값을 업데이트
            
            동작:
            슬라이더 이동 → sl_ValueChanged 이벤트 → 
            StatusBar 텍스트 변경 + ProgressBar 값 업데이트
        -->
        
        <!-- StatusBar를 하단에 배치 -->
        <StatusBar DockPanel.Dock="Bottom">
            <!-- 
                StatusBar:
                - 애플리케이션의 상태 정보를 표시하는 컨트롤
                - 일반적으로 화면 하단에 배치
                - 여러 StatusBarItem을 포함할 수 있음
                
                DockPanel.Dock="Bottom":
                - DockPanel의 하단에 배치
                - 전체 너비를 차지
                - 윈도우 애플리케이션의 표준 위치
                
                StatusBar 기본 개념:
                - 상태 표시줄 (Status Bar)
                - 현재 작업 상태, 진행률, 정보 등을 표시
                - 여러 영역으로 구분 가능 (StatusBarItem)
                - Separator로 영역 구분
                
                일반적인 StatusBar 구성:
                ┌────────────────────────────────────────┐
                │ 준비 | 로딩중.. | [진행바]            │
                └────────────────────────────────────────┘
                  항목1  항목2      항목3
                
                StatusBar vs ToolBar:
                - StatusBar: 하단, 상태 정보 표시 (읽기 전용)
                - ToolBar: 상단, 명령 버튼 제공 (상호작용)
            -->
            
            <!-- 첫 번째 상태 항목: 준비 상태 표시 -->
            <StatusBarItem>
                준비
            </StatusBarItem>
            <!-- 
                StatusBarItem:
                - StatusBar 내의 개별 항목
                - 텍스트, 컨트롤, 이미지 등을 포함 가능
                - 각 항목은 독립적인 영역을 차지
                
                "준비":
                - 단순 텍스트 콘텐츠
                - 애플리케이션의 기본 상태 표시
                - 일반적으로 "준비", "Ready", "대기 중" 등 사용
                
                StatusBarItem 콘텐츠 예시:
                - 텍스트: "준비"
                - 아이콘 + 텍스트: <Image/> + <TextBlock/>
                - 상태 정보: "줄: 10, 열: 5"
                - 시간: "2024-01-15 10:30:25"
            -->
            
            <Separator></Separator>
            <!-- 
                Separator:
                - 구분선
                - StatusBarItem들을 시각적으로 구분
                - 수직선으로 표시됨
                
                시각적 효과:
                ┌──────────────────┐
                │ 준비 │ 로딩중.. │
                └──────────────────┘
                     ↑ Separator
                
                용도:
                - 관련 없는 항목들 구분
                - UI의 가독성 향상
                - 논리적 그룹 분리
            -->
            
            <!-- 두 번째 상태 항목: 진행 상태 메시지 -->
            <StatusBarItem x:Name="sb">
                로딩중..
            </StatusBarItem>
            <!-- 
                StatusBarItem:
                - 동적으로 변경되는 상태 메시지 표시
                
                x:Name="sb":
                - 코드 비하인드에서 접근하기 위한 이름
                - sl_ValueChanged에서 sb.Content 변경
                
                "로딩중..":
                - 초기 상태 메시지
                - 슬라이더 값에 따라 변경됨
                
                동작:
                - 슬라이더 < 100: "로딩중.."
                - 슬라이더 = 100: "완료"
                
                실제 사용 예:
                - 파일 처리: "파일 저장 중..."
                - 네트워크: "서버 연결 중..."
                - 데이터: "데이터 로딩 중..."
                - 완료: "작업 완료"
            -->
            
            <!-- 세 번째 상태 항목: ProgressBar 포함 -->
            <StatusBarItem>
                <ProgressBar x:Name="pb" Height="10" Width="150" Value="0"></ProgressBar>
            </StatusBarItem>
            <!-- 
                StatusBarItem에 ProgressBar 포함:
                - StatusBar에 진행 상태를 시각적으로 표시
                - 상태 메시지와 함께 진행률 표시
                
                ProgressBar 속성:
                
                x:Name="pb":
                - 코드 비하인드에서 접근하기 위한 이름
                - sl_ValueChanged에서 pb.Value 업데이트
                
                Height="10":
                - ProgressBar의 높이
                - StatusBar에 맞는 작은 크기 (일반적으로 10-15픽셀)
                
                Width="150":
                - ProgressBar의 너비
                - 고정 너비로 적절한 크기 할당
                
                Value="0":
                - 초기 진행률 (0%)
                - 슬라이더 값에 따라 동기화됨
                
                동작 흐름:
                1. 슬라이더 이동
                2. sl_ValueChanged 이벤트 발생
                3. pb.Value = sl.Value (동기화)
                4. ProgressBar 시각적 업데이트
                
                StatusBar에 ProgressBar를 넣는 이유:
                - 진행 상태를 시각적으로 표현
                - 텍스트 메시지와 보완적 사용
                - 사용자에게 진행률 직관적으로 전달
                
                시각적 결과:
                ┌──────────────────────────────────────┐
                │ 준비 | 로딩중.. | [████░░░░░░░] 50% │
                └──────────────────────────────────────┘
            -->
        </StatusBar>
    </DockPanel>
    
    <!--
        StatusBar 추가 기능 및 활용:
        
        1. 기본 StatusBar:
           <StatusBar>
               <StatusBarItem Content="준비"/>
           </StatusBar>
        
        2. 여러 항목이 있는 StatusBar:
           <StatusBar>
               <StatusBarItem Content="상태: 준비"/>
               <Separator/>
               <StatusBarItem Content="줄: 10"/>
               <Separator/>
               <StatusBarItem Content="열: 25"/>
               <Separator/>
               <StatusBarItem Content="100%"/>
           </StatusBar>
        
        3. 아이콘이 있는 StatusBarItem:
           <StatusBarItem>
               <StackPanel Orientation="Horizontal">
                   <Image Source="icon.png" Width="16" Height="16"/>
                   <TextBlock Text="연결됨" Margin="5,0,0,0"/>
               </StackPanel>
           </StatusBarItem>
        
        4. HorizontalAlignment로 오른쪽 정렬:
           <StatusBar>
               <StatusBarItem Content="왼쪽 정보"/>
               <StatusBarItem HorizontalAlignment="Right" Content="오른쪽 정보"/>
           </StatusBar>
        
        5. 시간 표시:
           <StatusBarItem Name="timeStatusItem">
               <TextBlock Name="timeText" Text="2024-01-15 10:30:25"/>
           </StatusBarItem>
        
        6. 복합 상태 정보:
           <StatusBar>
               <StatusBarItem Content="문서: 저장됨"/>
               <Separator/>
               <StatusBarItem>
                   <StackPanel Orientation="Horizontal">
                       <TextBlock Text="줄: "/>
                       <TextBlock Name="lineNumber" Text="1"/>
                       <TextBlock Text=" 열: "/>
                       <TextBlock Name="columnNumber" Text="1"/>
                   </StackPanel>
               </StatusBarItem>
               <Separator/>
               <StatusBarItem Content="INS"/>
           </StatusBar>
        
        실전 활용 예제:
        
        1. 텍스트 편집기:
           <StatusBar>
               <StatusBarItem Content="준비"/>
               <Separator/>
               <StatusBarItem>
                   <TextBlock>
                       <Run Text="줄: "/>
                       <Run Name="line" Text="1"/>
                       <Run Text=" 열: "/>
                       <Run Name="col" Text="1"/>
                   </TextBlock>
               </StatusBarItem>
               <Separator/>
               <StatusBarItem Content="UTF-8"/>
               <Separator/>
               <StatusBarItem Content="100%"/>
           </StatusBar>
        
        2. 파일 탐색기:
           <StatusBar>
               <StatusBarItem>
                   <TextBlock>
                       <Run Text="항목 "/>
                       <Run Name="itemCount" Text="125"/>
                       <Run Text="개"/>
                   </TextBlock>
               </StatusBarItem>
               <Separator/>
               <StatusBarItem>
                   <TextBlock>
                       <Run Text="선택된 항목 "/>
                       <Run Name="selectedCount" Text="5"/>
                       <Run Text="개"/>
                   </TextBlock>
               </StatusBarItem>
               <Separator/>
               <StatusBarItem Content="총 크기: 1.5 GB"/>
           </StatusBar>
        
        3. 다운로드 관리자:
           <StatusBar>
               <StatusBarItem Name="statusText" Content="다운로드 중..."/>
               <Separator/>
               <StatusBarItem>
                   <ProgressBar Width="200" Height="15" Value="65"/>
               </StatusBarItem>
               <Separator/>
               <StatusBarItem Content="65%"/>
               <Separator/>
               <StatusBarItem Content="속도: 2.5 MB/s"/>
               <Separator/>
               <StatusBarItem Content="남은 시간: 1분 30초"/>
           </StatusBar>
        
        4. 데이터베이스 애플리케이션:
           <StatusBar>
               <StatusBarItem>
                   <StackPanel Orientation="Horizontal">
                       <Ellipse Width="10" Height="10" Fill="Green"/>
                       <TextBlock Text="연결됨" Margin="5,0,0,0"/>
                   </StackPanel>
               </StatusBarItem>
               <Separator/>
               <StatusBarItem Content="서버: localhost"/>
               <Separator/>
               <StatusBarItem Content="레코드: 1,234"/>
           </StatusBar>
        
        5. 이미지 편집기:
           <StatusBar>
               <StatusBarItem Content="준비"/>
               <Separator/>
               <StatusBarItem Content="크기: 1920x1080"/>
               <Separator/>
               <StatusBarItem Content="DPI: 96"/>
               <Separator/>
               <StatusBarItem Content="크기: 2.5 MB"/>
               <Separator/>
               <StatusBarItem>
                   <Slider Width="100" Minimum="10" Maximum="400" Value="100"/>
               </StatusBarItem>
               <StatusBarItem Content="100%"/>
           </StatusBar>
        
        StatusBar 스타일링:
        
        1. 배경색 변경:
           <StatusBar Background="LightGray">
           </StatusBar>
        
        2. 높이 조절:
           <StatusBar Height="30">
           </StatusBar>
        
        3. 테두리:
           <StatusBar BorderBrush="Gray" BorderThickness="0,1,0,0">
           </StatusBar>
        
        4. StatusBarItem 스타일:
           <StatusBar>
               <StatusBarItem Padding="10,5">
                   <TextBlock Text="상태 정보" FontWeight="Bold"/>
               </StatusBarItem>
           </StatusBar>
        
        StatusBar의 장단점:
        
        장점:
        - 상태 정보를 일관된 위치에 표시
        - 작업 공간을 방해하지 않음
        - 여러 정보를 동시에 표시 가능
        - 진행률, 메시지, 시간 등 다양한 정보 표시
        
        단점:
        - 화면 하단에 고정되어 눈에 잘 안 띔
        - 중요한 알림에는 부적합 (MessageBox 사용)
        - 공간 제약으로 많은 정보 표시 어려움
        
        모범 사례:
        
        1. 간결한 정보:
           - 핵심 정보만 표시
           - 너무 많은 항목 피하기
        
        2. 적절한 구분:
           - Separator로 논리적 그룹 구분
           - 관련 정보끼리 묶기
        
        3. 동적 업데이트:
           - 상태 변경 시 즉시 반영
           - 실시간 정보 제공
        
        4. 시각적 피드백:
           - 아이콘으로 상태 표시
           - 색상으로 중요도 구분
        
        5. 오른쪽 정렬 활용:
           - 중요하지 않은 정보는 오른쪽
           - 시간, 줌 레벨 등
        
        성능 고려사항:
        - 너무 빈번한 업데이트 피하기
        - 타이머로 정기적 업데이트 (1초 단위)
        - UI 스레드에서 업데이트
        
        접근성:
        - AutomationProperties로 스크린 리더 지원
        - 중요한 상태는 다른 방법으로도 전달
    -->
</Window>
