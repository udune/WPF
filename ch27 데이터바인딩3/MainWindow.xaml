<Window x:Class="ch27_데이터바인딩3.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:ch27_데이터바인딩3"
        mc:Ignorable="d"
        Title="ch27 컬렉션 바인딩 튜토리얼" Height="600" Width="850">

    <Window.Resources>
        <Style x:Key="CodeExpanderStyle" TargetType="Expander">
            <Setter Property="Header" Value="코드 보기"/>
            <Setter Property="Margin" Value="0,0,0,12"/>
            <Setter Property="IsExpanded" Value="False"/>
        </Style>
        <Style x:Key="CodeTextBoxStyle" TargetType="TextBox">
            <Setter Property="IsReadOnly" Value="True"/>
            <Setter Property="FontFamily" Value="Consolas"/>
            <Setter Property="FontSize" Value="12"/>
            <Setter Property="Background" Value="#1E1E1E"/>
            <Setter Property="Foreground" Value="#DCDCDC"/>
            <Setter Property="Padding" Value="10"/>
            <Setter Property="TextWrapping" Value="Wrap"/>
            <Setter Property="AcceptsReturn" Value="True"/>
            <Setter Property="VerticalScrollBarVisibility" Value="Auto"/>
            <Setter Property="MaxHeight" Value="300"/>
            <Setter Property="BorderBrush" Value="#333333"/>
            <Setter Property="BorderThickness" Value="1"/>
        </Style>
    </Window.Resources>

    <Grid>
        <TabControl>
            <!-- 탭 1: ItemsSource 기본 -->
            <TabItem Header="ItemsSource 기본">
                <ScrollViewer VerticalScrollBarVisibility="Auto" Padding="20">
                    <StackPanel>
                        <TextBlock Text="ItemsSource 기본" FontSize="18" FontWeight="Bold" Margin="0,0,0,15"/>

                        <!-- ItemsSource 개념 -->
                        <GroupBox Header="ItemsSource란?" Margin="0,0,0,10">
                            <StackPanel Margin="10">
                                <TextBlock TextWrapping="Wrap" Margin="0,0,0,10">
                                    <Run FontWeight="Bold">ItemsSource</Run>
                                    <Run>는 컬렉션을 ItemsControl(ListBox, ListView, ComboBox 등)에 바인딩하는 속성입니다.</Run>
                                </TextBlock>
                                <Border Background="LightYellow" Padding="10" CornerRadius="5">
                                    <StackPanel>
                                        <TextBlock Text="지원되는 컬렉션 타입:" FontWeight="Bold"/>
                                        <TextBlock Text="• List&lt;T&gt;, Array"/>
                                        <TextBlock Text="• ObservableCollection&lt;T&gt; (동적 업데이트)"/>
                                        <TextBlock Text="• IEnumerable을 구현하는 모든 컬렉션"/>
                                    </StackPanel>
                                </Border>
                            </StackPanel>
                        </GroupBox>
                        <Expander Style="{StaticResource CodeExpanderStyle}">
                            <TextBox Style="{StaticResource CodeTextBoxStyle}" Text="// 코드에서 ItemsSource 설정&#10;List&lt;string&gt; items = new List&lt;string&gt; { &quot;항목1&quot;, &quot;항목2&quot;, &quot;항목3&quot; };&#10;listBox.ItemsSource = items;&#10;&#10;// XAML에서 ItemsSource 바인딩&#10;&lt;ListBox ItemsSource=&quot;{Binding MyCollection}&quot;/&gt;"/>
                        </Expander>

                        <!-- 간단한 문자열 리스트 -->
                        <GroupBox Header="문자열 리스트 바인딩" Margin="0,0,0,10">
                            <StackPanel Margin="10">
                                <TextBlock Text="간단한 문자열 컬렉션을 ListBox에 바인딩:" Margin="0,0,0,10"/>
                                <ListBox x:Name="stringListBox" Height="120"/>
                            </StackPanel>
                        </GroupBox>
                        <Expander Style="{StaticResource CodeExpanderStyle}">
                            <TextBox Style="{StaticResource CodeTextBoxStyle}" Text="// C# 코드&#10;List&lt;string&gt; fruits = new List&lt;string&gt;&#10;{&#10;    &quot;사과&quot;, &quot;바나나&quot;, &quot;오렌지&quot;, &quot;포도&quot;, &quot;딸기&quot;&#10;};&#10;stringListBox.ItemsSource = fruits;&#10;&#10;// XAML&#10;&lt;ListBox x:Name=&quot;stringListBox&quot;/&gt;"/>
                        </Expander>

                        <!-- 객체 리스트 -->
                        <GroupBox Header="객체 리스트 바인딩" Margin="0,0,0,10">
                            <StackPanel Margin="10">
                                <TextBlock Text="Person 객체 컬렉션을 ListBox에 바인딩:" Margin="0,0,0,10"/>
                                <ListBox x:Name="personListBox" Height="120" DisplayMemberPath="이름"/>
                                <TextBlock Text="※ DisplayMemberPath로 표시할 속성을 지정합니다"
                                           FontStyle="Italic" Foreground="Gray" Margin="0,5,0,0"/>
                            </StackPanel>
                        </GroupBox>
                        <Expander Style="{StaticResource CodeExpanderStyle}">
                            <TextBox Style="{StaticResource CodeTextBoxStyle}" Text="// Person 클래스&#10;public class Person&#10;{&#10;    public string 이름 { get; set; }&#10;    public int 나이 { get; set; }&#10;}&#10;&#10;// 바인딩&#10;List&lt;Person&gt; people = new List&lt;Person&gt;&#10;{&#10;    new Person { 이름 = &quot;홍길동&quot;, 나이 = 30 },&#10;    new Person { 이름 = &quot;김영희&quot;, 나이 = 25 }&#10;};&#10;personListBox.ItemsSource = people;&#10;&#10;// DisplayMemberPath로 표시할 속성 지정&#10;&lt;ListBox DisplayMemberPath=&quot;이름&quot;/&gt;"/>
                        </Expander>

                        <!-- SelectedItem 바인딩 -->
                        <GroupBox Header="SelectedItem / SelectedValue" Margin="0,0,0,10">
                            <Grid Margin="10">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>
                                <StackPanel Margin="0,0,10,0">
                                    <TextBlock Text="항목을 선택하세요:" Margin="0,0,0,5"/>
                                    <ListBox x:Name="selectDemoListBox" Height="100" DisplayMemberPath="이름"/>
                                </StackPanel>
                                <Border Grid.Column="1" Background="LightCyan" Padding="10" CornerRadius="5">
                                    <StackPanel>
                                        <TextBlock Text="선택된 항목:" FontWeight="Bold" Margin="0,0,0,5"/>
                                        <TextBlock x:Name="selectedItemText" Text="없음" FontSize="14"/>
                                        <TextBlock Text="선택된 값 (SelectedValuePath=나이):" FontWeight="Bold" Margin="0,10,0,5"/>
                                        <TextBlock x:Name="selectedValueText" Text="없음" FontSize="14"/>
                                    </StackPanel>
                                </Border>
                            </Grid>
                        </GroupBox>
                        <Expander Style="{StaticResource CodeExpanderStyle}">
                            <TextBox Style="{StaticResource CodeTextBoxStyle}" Text="&lt;ListBox x:Name=&quot;listBox&quot;&#10;         DisplayMemberPath=&quot;이름&quot;&#10;         SelectedValuePath=&quot;나이&quot;&#10;         SelectionChanged=&quot;ListBox_SelectionChanged&quot;/&gt;&#10;&#10;// SelectionChanged 이벤트&#10;private void ListBox_SelectionChanged(...)&#10;{&#10;    var person = listBox.SelectedItem as Person;&#10;    var age = listBox.SelectedValue;  // 나이 값&#10;}"/>
                        </Expander>
                    </StackPanel>
                </ScrollViewer>
            </TabItem>

            <!-- 탭 2: DataTemplate -->
            <TabItem Header="DataTemplate">
                <ScrollViewer VerticalScrollBarVisibility="Auto" Padding="20">
                    <StackPanel>
                        <TextBlock Text="DataTemplate (항목 템플릿)" FontSize="18" FontWeight="Bold" Margin="0,0,0,15"/>

                        <!-- DataTemplate 개념 -->
                        <GroupBox Header="DataTemplate이란?" Margin="0,0,0,10">
                            <StackPanel Margin="10">
                                <TextBlock TextWrapping="Wrap" Margin="0,0,0,10">
                                    <Run FontWeight="Bold">DataTemplate</Run>
                                    <Run>은 데이터 객체를 시각적으로 표현하는 방법을 정의합니다.</Run>
                                    <LineBreak/>
                                    <Run>각 항목의 모양을 자유롭게 커스터마이징할 수 있습니다.</Run>
                                </TextBlock>
                                <Border Background="LightGreen" Padding="10" CornerRadius="5">
                                    <TextBlock TextWrapping="Wrap">
                                        <Run FontWeight="Bold">핵심:</Run>
                                        <Run>ItemTemplate 속성에 DataTemplate을 할당하여 항목 UI를 정의합니다.</Run>
                                    </TextBlock>
                                </Border>
                            </StackPanel>
                        </GroupBox>
                        <Expander Style="{StaticResource CodeExpanderStyle}">
                            <TextBox Style="{StaticResource CodeTextBoxStyle}" Text="&lt;ListBox ItemsSource=&quot;{Binding}&quot;&gt;&#10;    &lt;ListBox.ItemTemplate&gt;&#10;        &lt;DataTemplate&gt;&#10;            &lt;!-- 여기에 항목 UI 정의 --&gt;&#10;            &lt;TextBlock Text=&quot;{Binding 속성명}&quot;/&gt;&#10;        &lt;/DataTemplate&gt;&#10;    &lt;/ListBox.ItemTemplate&gt;&#10;&lt;/ListBox&gt;"/>
                        </Expander>

                        <!-- 기본 DataTemplate -->
                        <GroupBox Header="기본 DataTemplate 예제" Margin="0,0,0,10">
                            <StackPanel Margin="10">
                                <TextBlock Text="여러 속성을 표시하는 DataTemplate:" Margin="0,0,0,10"/>
                                <ListBox x:Name="basicTemplateListBox" Height="150">
                                    <ListBox.ItemTemplate>
                                        <DataTemplate>
                                            <StackPanel Orientation="Horizontal" Margin="5">
                                                <TextBlock Text="{Binding 이름}" FontWeight="Bold" Width="80"/>
                                                <TextBlock Text="{Binding 나이, StringFormat={}{0}세}" Width="50"/>
                                                <ProgressBar Value="{Binding 별점}" Maximum="100" Width="100" Height="15"/>
                                                <TextBlock Text="{Binding 별점, StringFormat={}{0}점}" Margin="5,0,0,0"/>
                                            </StackPanel>
                                        </DataTemplate>
                                    </ListBox.ItemTemplate>
                                </ListBox>
                            </StackPanel>
                        </GroupBox>
                        <Expander Style="{StaticResource CodeExpanderStyle}">
                            <TextBox Style="{StaticResource CodeTextBoxStyle}" Text="&lt;ListBox.ItemTemplate&gt;&#10;    &lt;DataTemplate&gt;&#10;        &lt;StackPanel Orientation=&quot;Horizontal&quot;&gt;&#10;            &lt;TextBlock Text=&quot;{Binding 이름}&quot; FontWeight=&quot;Bold&quot; Width=&quot;80&quot;/&gt;&#10;            &lt;TextBlock Text=&quot;{Binding 나이, StringFormat={}{0}세}&quot;/&gt;&#10;            &lt;ProgressBar Value=&quot;{Binding 별점}&quot; Maximum=&quot;100&quot;/&gt;&#10;        &lt;/StackPanel&gt;&#10;    &lt;/DataTemplate&gt;&#10;&lt;/ListBox.ItemTemplate&gt;"/>
                        </Expander>

                        <!-- 카드 스타일 DataTemplate -->
                        <GroupBox Header="카드 스타일 DataTemplate" Margin="0,0,0,10">
                            <StackPanel Margin="10">
                                <TextBlock Text="카드 형태의 DataTemplate:" Margin="0,0,0,10"/>
                                <ListBox x:Name="cardTemplateListBox" Height="200"
                                         ScrollViewer.HorizontalScrollBarVisibility="Disabled">
                                    <ListBox.ItemsPanel>
                                        <ItemsPanelTemplate>
                                            <WrapPanel/>
                                        </ItemsPanelTemplate>
                                    </ListBox.ItemsPanel>
                                    <ListBox.ItemTemplate>
                                        <DataTemplate>
                                            <Border Background="White" BorderBrush="LightGray" BorderThickness="1"
                                                    CornerRadius="8" Padding="15" Margin="5" Width="150">
                                                <Border.Effect>
                                                    <DropShadowEffect BlurRadius="5" Opacity="0.2" ShadowDepth="2"/>
                                                </Border.Effect>
                                                <StackPanel>
                                                    <Ellipse Width="50" Height="50" Fill="SteelBlue" HorizontalAlignment="Center"/>
                                                    <TextBlock Text="{Binding 이름}" FontWeight="Bold" FontSize="14"
                                                               HorizontalAlignment="Center" Margin="0,10,0,5"/>
                                                    <TextBlock Text="{Binding 나이, StringFormat={}{0}세}"
                                                               HorizontalAlignment="Center" Foreground="Gray"/>
                                                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,5,0,0">
                                                        <TextBlock Text="★" Foreground="Gold"/>
                                                        <TextBlock Text="{Binding 별점}" Margin="3,0,0,0"/>
                                                    </StackPanel>
                                                </StackPanel>
                                            </Border>
                                        </DataTemplate>
                                    </ListBox.ItemTemplate>
                                </ListBox>
                            </StackPanel>
                        </GroupBox>
                        <Expander Style="{StaticResource CodeExpanderStyle}">
                            <TextBox Style="{StaticResource CodeTextBoxStyle}" Text="&lt;!-- WrapPanel로 항목 배치 --&gt;&#10;&lt;ListBox.ItemsPanel&gt;&#10;    &lt;ItemsPanelTemplate&gt;&#10;        &lt;WrapPanel/&gt;&#10;    &lt;/ItemsPanelTemplate&gt;&#10;&lt;/ListBox.ItemsPanel&gt;&#10;&#10;&lt;!-- 카드 스타일 템플릿 --&gt;&#10;&lt;DataTemplate&gt;&#10;    &lt;Border CornerRadius=&quot;8&quot; Padding=&quot;15&quot;&gt;&#10;        &lt;Border.Effect&gt;&#10;            &lt;DropShadowEffect BlurRadius=&quot;5&quot;/&gt;&#10;        &lt;/Border.Effect&gt;&#10;        &lt;StackPanel&gt;&#10;            &lt;Ellipse Fill=&quot;SteelBlue&quot;/&gt;&#10;            &lt;TextBlock Text=&quot;{Binding 이름}&quot;/&gt;&#10;        &lt;/StackPanel&gt;&#10;    &lt;/Border&gt;&#10;&lt;/DataTemplate&gt;"/>
                        </Expander>
                    </StackPanel>
                </ScrollViewer>
            </TabItem>

            <!-- 탭 3: ListView / GridView -->
            <TabItem Header="ListView">
                <ScrollViewer VerticalScrollBarVisibility="Auto" Padding="20">
                    <StackPanel>
                        <TextBlock Text="ListView와 GridView" FontSize="18" FontWeight="Bold" Margin="0,0,0,15"/>

                        <!-- ListView 개념 -->
                        <GroupBox Header="ListView vs ListBox" Margin="0,0,0,10">
                            <StackPanel Margin="10">
                                <TextBlock TextWrapping="Wrap" Margin="0,0,0,10">
                                    <Run FontWeight="Bold">ListView</Run>
                                    <Run>는 ListBox를 확장한 컨트롤로, GridView를 통해 테이블 형태로 데이터를 표시할 수 있습니다.</Run>
                                </TextBlock>
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>
                                    <Border Background="LightBlue" Padding="10" CornerRadius="5" Margin="0,0,5,0">
                                        <StackPanel>
                                            <TextBlock Text="ListBox" FontWeight="Bold"/>
                                            <TextBlock Text="• 단일 열 목록"/>
                                            <TextBlock Text="• ItemTemplate 사용"/>
                                        </StackPanel>
                                    </Border>
                                    <Border Grid.Column="1" Background="LightGreen" Padding="10" CornerRadius="5" Margin="5,0,0,0">
                                        <StackPanel>
                                            <TextBlock Text="ListView + GridView" FontWeight="Bold"/>
                                            <TextBlock Text="• 다중 열 테이블"/>
                                            <TextBlock Text="• GridViewColumn 사용"/>
                                        </StackPanel>
                                    </Border>
                                </Grid>
                            </StackPanel>
                        </GroupBox>
                        <Expander Style="{StaticResource CodeExpanderStyle}">
                            <TextBox Style="{StaticResource CodeTextBoxStyle}" Text="&lt;ListView ItemsSource=&quot;{Binding}&quot;&gt;&#10;    &lt;ListView.View&gt;&#10;        &lt;GridView&gt;&#10;            &lt;GridViewColumn Header=&quot;이름&quot; DisplayMemberBinding=&quot;{Binding 이름}&quot;/&gt;&#10;            &lt;GridViewColumn Header=&quot;나이&quot; DisplayMemberBinding=&quot;{Binding 나이}&quot;/&gt;&#10;        &lt;/GridView&gt;&#10;    &lt;/ListView.View&gt;&#10;&lt;/ListView&gt;"/>
                        </Expander>

                        <!-- 기본 GridView -->
                        <GroupBox Header="기본 GridView" Margin="0,0,0,10">
                            <StackPanel Margin="10">
                                <TextBlock Text="DisplayMemberBinding으로 간단한 테이블 만들기:" Margin="0,0,0,10"/>
                                <ListView x:Name="basicGridView" Height="150">
                                    <ListView.View>
                                        <GridView>
                                            <GridViewColumn Header="이름" Width="100" DisplayMemberBinding="{Binding 이름}"/>
                                            <GridViewColumn Header="나이" Width="60" DisplayMemberBinding="{Binding 나이}"/>
                                            <GridViewColumn Header="별점" Width="60" DisplayMemberBinding="{Binding 별점}"/>
                                        </GridView>
                                    </ListView.View>
                                </ListView>
                            </StackPanel>
                        </GroupBox>
                        <Expander Style="{StaticResource CodeExpanderStyle}">
                            <TextBox Style="{StaticResource CodeTextBoxStyle}" Text="&lt;ListView.View&gt;&#10;    &lt;GridView&gt;&#10;        &lt;GridViewColumn Header=&quot;이름&quot; Width=&quot;100&quot; &#10;                        DisplayMemberBinding=&quot;{Binding 이름}&quot;/&gt;&#10;        &lt;GridViewColumn Header=&quot;나이&quot; Width=&quot;60&quot; &#10;                        DisplayMemberBinding=&quot;{Binding 나이}&quot;/&gt;&#10;    &lt;/GridView&gt;&#10;&lt;/ListView.View&gt;"/>
                        </Expander>

                        <!-- CellTemplate -->
                        <GroupBox Header="CellTemplate으로 커스터마이징" Margin="0,0,0,10">
                            <StackPanel Margin="10">
                                <TextBlock Text="CellTemplate으로 셀 내용을 자유롭게 커스터마이징:" Margin="0,0,0,10"/>
                                <ListView x:Name="customGridView" Height="150">
                                    <ListView.View>
                                        <GridView>
                                            <GridViewColumn Header="이름" Width="100" DisplayMemberBinding="{Binding 이름}"/>
                                            <GridViewColumn Header="나이" Width="80">
                                                <GridViewColumn.CellTemplate>
                                                    <DataTemplate>
                                                        <Border Background="LightBlue" CornerRadius="3" Padding="5,2">
                                                            <TextBlock Text="{Binding 나이, StringFormat={}{0}세}"/>
                                                        </Border>
                                                    </DataTemplate>
                                                </GridViewColumn.CellTemplate>
                                            </GridViewColumn>
                                            <GridViewColumn Header="별점" Width="150">
                                                <GridViewColumn.CellTemplate>
                                                    <DataTemplate>
                                                        <StackPanel Orientation="Horizontal">
                                                            <ProgressBar Value="{Binding 별점}" Maximum="100"
                                                                         Width="80" Height="15"/>
                                                            <TextBlock Text="{Binding 별점, StringFormat={}{0}점}"
                                                                       Margin="5,0,0,0"/>
                                                        </StackPanel>
                                                    </DataTemplate>
                                                </GridViewColumn.CellTemplate>
                                            </GridViewColumn>
                                        </GridView>
                                    </ListView.View>
                                </ListView>
                            </StackPanel>
                        </GroupBox>
                        <Expander Style="{StaticResource CodeExpanderStyle}">
                            <TextBox Style="{StaticResource CodeTextBoxStyle}" Text="&lt;GridViewColumn Header=&quot;별점&quot; Width=&quot;150&quot;&gt;&#10;    &lt;GridViewColumn.CellTemplate&gt;&#10;        &lt;DataTemplate&gt;&#10;            &lt;StackPanel Orientation=&quot;Horizontal&quot;&gt;&#10;                &lt;ProgressBar Value=&quot;{Binding 별점}&quot; Maximum=&quot;100&quot;/&gt;&#10;                &lt;TextBlock Text=&quot;{Binding 별점, StringFormat={}{0}점}&quot;/&gt;&#10;            &lt;/StackPanel&gt;&#10;        &lt;/DataTemplate&gt;&#10;    &lt;/GridViewColumn.CellTemplate&gt;&#10;&lt;/GridViewColumn&gt;"/>
                        </Expander>
                    </StackPanel>
                </ScrollViewer>
            </TabItem>

            <!-- 탭 4: ComboBox -->
            <TabItem Header="ComboBox">
                <ScrollViewer VerticalScrollBarVisibility="Auto" Padding="20">
                    <StackPanel>
                        <TextBlock Text="ComboBox 바인딩" FontSize="18" FontWeight="Bold" Margin="0,0,0,15"/>

                        <!-- 기본 ComboBox -->
                        <GroupBox Header="기본 ComboBox 바인딩" Margin="0,0,0,10">
                            <StackPanel Margin="10">
                                <TextBlock Text="문자열 컬렉션 바인딩:" Margin="0,0,0,5"/>
                                <ComboBox x:Name="stringComboBox" Width="200" HorizontalAlignment="Left"/>
                                <TextBlock Text="객체 컬렉션 바인딩 (DisplayMemberPath):" Margin="0,15,0,5"/>
                                <ComboBox x:Name="personComboBox" Width="200" HorizontalAlignment="Left"
                                          DisplayMemberPath="이름"/>
                            </StackPanel>
                        </GroupBox>
                        <Expander Style="{StaticResource CodeExpanderStyle}">
                            <TextBox Style="{StaticResource CodeTextBoxStyle}" Text="// 문자열 리스트&#10;comboBox.ItemsSource = new List&lt;string&gt; { &quot;옵션1&quot;, &quot;옵션2&quot; };&#10;&#10;// 객체 리스트&#10;comboBox.ItemsSource = personList;&#10;comboBox.DisplayMemberPath = &quot;이름&quot;;&#10;&#10;// XAML&#10;&lt;ComboBox ItemsSource=&quot;{Binding}&quot; DisplayMemberPath=&quot;이름&quot;/&gt;"/>
                        </Expander>

                        <!-- SelectedItem 바인딩 -->
                        <GroupBox Header="SelectedItem / SelectedValue 바인딩" Margin="0,0,0,10">
                            <Grid Margin="10">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>
                                <StackPanel Margin="0,0,10,0">
                                    <TextBlock Text="사람 선택:" Margin="0,0,0,5"/>
                                    <ComboBox x:Name="selectionComboBox" DisplayMemberPath="이름"
                                              SelectedValuePath="나이" SelectionChanged="ComboBox_SelectionChanged"/>
                                </StackPanel>
                                <Border Grid.Column="1" Background="LightYellow" Padding="15" CornerRadius="5">
                                    <StackPanel>
                                        <TextBlock Text="선택된 정보:" FontWeight="Bold" Margin="0,0,0,10"/>
                                        <TextBlock x:Name="comboSelectedItem" Text="SelectedItem: 없음"/>
                                        <TextBlock x:Name="comboSelectedValue" Text="SelectedValue (나이): 없음" Margin="0,5,0,0"/>
                                    </StackPanel>
                                </Border>
                            </Grid>
                        </GroupBox>
                        <Expander Style="{StaticResource CodeExpanderStyle}">
                            <TextBox Style="{StaticResource CodeTextBoxStyle}" Text="&lt;ComboBox DisplayMemberPath=&quot;이름&quot;&#10;          SelectedValuePath=&quot;나이&quot;&#10;          SelectionChanged=&quot;ComboBox_SelectionChanged&quot;/&gt;&#10;&#10;private void ComboBox_SelectionChanged(...)&#10;{&#10;    var person = comboBox.SelectedItem as Person;&#10;    int age = (int)comboBox.SelectedValue;&#10;}"/>
                        </Expander>

                        <!-- ItemTemplate -->
                        <GroupBox Header="ComboBox ItemTemplate" Margin="0,0,0,10">
                            <StackPanel Margin="10">
                                <TextBlock Text="ItemTemplate으로 드롭다운 항목 커스터마이징:" Margin="0,0,0,10"/>
                                <ComboBox x:Name="templateComboBox" Width="250" HorizontalAlignment="Left">
                                    <ComboBox.ItemTemplate>
                                        <DataTemplate>
                                            <StackPanel Orientation="Horizontal">
                                                <Ellipse Width="20" Height="20" Fill="CornflowerBlue" Margin="0,0,10,0"/>
                                                <StackPanel>
                                                    <TextBlock Text="{Binding 이름}" FontWeight="Bold"/>
                                                    <TextBlock Text="{Binding 나이, StringFormat={}{0}세}"
                                                               FontSize="10" Foreground="Gray"/>
                                                </StackPanel>
                                            </StackPanel>
                                        </DataTemplate>
                                    </ComboBox.ItemTemplate>
                                </ComboBox>
                            </StackPanel>
                        </GroupBox>
                        <Expander Style="{StaticResource CodeExpanderStyle}">
                            <TextBox Style="{StaticResource CodeTextBoxStyle}" Text="&lt;ComboBox.ItemTemplate&gt;&#10;    &lt;DataTemplate&gt;&#10;        &lt;StackPanel Orientation=&quot;Horizontal&quot;&gt;&#10;            &lt;Ellipse Width=&quot;20&quot; Height=&quot;20&quot; Fill=&quot;CornflowerBlue&quot;/&gt;&#10;            &lt;StackPanel&gt;&#10;                &lt;TextBlock Text=&quot;{Binding 이름}&quot; FontWeight=&quot;Bold&quot;/&gt;&#10;                &lt;TextBlock Text=&quot;{Binding 나이, StringFormat={}{0}세}&quot;/&gt;&#10;            &lt;/StackPanel&gt;&#10;        &lt;/StackPanel&gt;&#10;    &lt;/DataTemplate&gt;&#10;&lt;/ComboBox.ItemTemplate&gt;"/>
                        </Expander>

                        <!-- 편집 가능한 ComboBox -->
                        <GroupBox Header="편집 가능한 ComboBox (IsEditable)" Margin="0,0,0,10">
                            <StackPanel Margin="10">
                                <TextBlock Text="IsEditable=True로 직접 입력 가능:" Margin="0,0,0,10"/>
                                <ComboBox x:Name="editableComboBox" Width="200" HorizontalAlignment="Left"
                                          IsEditable="True"/>
                                <TextBlock Text="※ 목록에 없는 값도 직접 입력할 수 있습니다"
                                           FontStyle="Italic" Foreground="Gray" Margin="0,5,0,0"/>
                            </StackPanel>
                        </GroupBox>
                        <Expander Style="{StaticResource CodeExpanderStyle}">
                            <TextBox Style="{StaticResource CodeTextBoxStyle}" Text="&lt;ComboBox IsEditable=&quot;True&quot; ItemsSource=&quot;{Binding}&quot;/&gt;&#10;&#10;// IsEditable=True: 사용자가 직접 텍스트 입력 가능&#10;// IsEditable=False: 목록에서만 선택 가능 (기본값)"/>
                        </Expander>
                    </StackPanel>
                </ScrollViewer>
            </TabItem>

            <!-- 탭 5: ObservableCollection -->
            <TabItem Header="ObservableCollection">
                <ScrollViewer VerticalScrollBarVisibility="Auto" Padding="20">
                    <StackPanel>
                        <TextBlock Text="ObservableCollection (동적 컬렉션)" FontSize="18" FontWeight="Bold" Margin="0,0,0,15"/>

                        <!-- 개념 설명 -->
                        <GroupBox Header="List vs ObservableCollection" Margin="0,0,0,10">
                            <StackPanel Margin="10">
                                <TextBlock TextWrapping="Wrap" Margin="0,0,0,10">
                                    <Run FontWeight="Bold">ObservableCollection&lt;T&gt;</Run>
                                    <Run>은 항목이 추가/삭제될 때 UI에 자동으로 알려주는 컬렉션입니다.</Run>
                                </TextBlock>
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>
                                    <Border Background="LightCoral" Padding="10" CornerRadius="5" Margin="0,0,5,0">
                                        <StackPanel>
                                            <TextBlock Text="❌ List&lt;T&gt;" FontWeight="Bold"/>
                                            <TextBlock Text="• Add/Remove 시 UI 반영 안 됨"/>
                                            <TextBlock Text="• 수동 갱신 필요"/>
                                        </StackPanel>
                                    </Border>
                                    <Border Grid.Column="1" Background="LightGreen" Padding="10" CornerRadius="5" Margin="5,0,0,0">
                                        <StackPanel>
                                            <TextBlock Text="✓ ObservableCollection&lt;T&gt;" FontWeight="Bold"/>
                                            <TextBlock Text="• Add/Remove 시 자동 UI 업데이트"/>
                                            <TextBlock Text="• INotifyCollectionChanged 구현"/>
                                        </StackPanel>
                                    </Border>
                                </Grid>
                            </StackPanel>
                        </GroupBox>
                        <Expander Style="{StaticResource CodeExpanderStyle}">
                            <TextBox Style="{StaticResource CodeTextBoxStyle}" Text="using System.Collections.ObjectModel;&#10;&#10;// ObservableCollection 선언&#10;ObservableCollection&lt;Person&gt; people = new ObservableCollection&lt;Person&gt;();&#10;&#10;// 항목 추가 - UI 자동 업데이트&#10;people.Add(new Person { 이름 = &quot;홍길동&quot; });&#10;&#10;// 항목 삭제 - UI 자동 업데이트&#10;people.Remove(person);"/>
                        </Expander>

                        <!-- 동적 추가/삭제 데모 -->
                        <GroupBox Header="동적 추가/삭제 데모" Margin="0,0,0,10">
                            <Grid Margin="10">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>

                                <ListBox x:Name="observableListBox" Height="180" DisplayMemberPath="이름"/>

                                <StackPanel Grid.Column="1" Margin="15,0,0,0" Width="180">
                                    <TextBlock Text="새 항목 추가:" FontWeight="Bold" Margin="0,0,0,5"/>
                                    <TextBox x:Name="newNameTextBox" Padding="5" Margin="0,0,0,5"/>
                                    <TextBox x:Name="newAgeTextBox" Padding="5" Margin="0,0,0,5"/>
                                    <Button Content="추가" Click="AddPerson_Click" Padding="10,5" Margin="0,0,0,15"/>

                                    <Button Content="선택 항목 삭제" Click="RemovePerson_Click" Padding="10,5" Margin="0,0,0,5"/>
                                    <Button Content="전체 삭제" Click="ClearAll_Click" Padding="10,5"/>

                                    <TextBlock x:Name="itemCountText" Text="항목 수: 0"
                                               FontWeight="Bold" Margin="0,15,0,0"/>
                                </StackPanel>
                            </Grid>
                        </GroupBox>
                        <Expander Style="{StaticResource CodeExpanderStyle}">
                            <TextBox Style="{StaticResource CodeTextBoxStyle}" Text="// ObservableCollection 선언&#10;ObservableCollection&lt;Person&gt; people = new();&#10;observableListBox.ItemsSource = people;&#10;&#10;// 추가&#10;private void AddPerson_Click(...)&#10;{&#10;    people.Add(new Person { 이름 = name, 나이 = age });&#10;    // UI가 자동으로 업데이트됨!&#10;}&#10;&#10;// 삭제&#10;private void RemovePerson_Click(...)&#10;{&#10;    people.Remove(selectedPerson);&#10;}&#10;&#10;// 전체 삭제&#10;people.Clear();"/>
                        </Expander>

                        <!-- 컬렉션 변경 감지 -->
                        <GroupBox Header="CollectionChanged 이벤트" Margin="0,0,0,10">
                            <StackPanel Margin="10">
                                <TextBlock TextWrapping="Wrap" Margin="0,0,0,10">
                                    ObservableCollection의 CollectionChanged 이벤트로 변경을 감지할 수 있습니다.
                                </TextBlock>
                                <Border x:Name="collectionChangeLog" Background="Black" Padding="10" CornerRadius="5" Height="100">
                                    <ScrollViewer VerticalScrollBarVisibility="Auto">
                                        <TextBlock x:Name="logTextBlock" Foreground="LightGreen" FontFamily="Consolas"/>
                                    </ScrollViewer>
                                </Border>
                            </StackPanel>
                        </GroupBox>
                        <Expander Style="{StaticResource CodeExpanderStyle}">
                            <TextBox Style="{StaticResource CodeTextBoxStyle}" Text="// CollectionChanged 이벤트 구독&#10;people.CollectionChanged += (s, e) =&gt;&#10;{&#10;    switch (e.Action)&#10;    {&#10;        case NotifyCollectionChangedAction.Add:&#10;            Log(&quot;항목 추가됨&quot;);&#10;            break;&#10;        case NotifyCollectionChangedAction.Remove:&#10;            Log(&quot;항목 삭제됨&quot;);&#10;            break;&#10;        case NotifyCollectionChangedAction.Reset:&#10;            Log(&quot;컬렉션 초기화됨&quot;);&#10;            break;&#10;    }&#10;};"/>
                        </Expander>
                    </StackPanel>
                </ScrollViewer>
            </TabItem>
        </TabControl>
    </Grid>
</Window>
